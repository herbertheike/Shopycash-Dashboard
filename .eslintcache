[{"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\index.js":"1","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\App.js":"2","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\administrativo\\index.js":"3","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\administrativo\\style.js":"4","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\components\\Layout.js":"5","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\components\\sidebar.js":"6","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\shopping\\index.js":"7","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\shopping\\index.js":"8","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\routes.js":"9","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\administrativo\\index.js":"10","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\data\\Firebase.js":"11","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\administrativo\\style.js":"12","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\shopping\\style.js":"13","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\components\\BodyWraper.js":"14","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\history.js":"15","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\mainpages\\index.js":"16","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\shopping\\style.js":"17","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\style.js":"18","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\loja\\style.js":"19","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\loja\\index.js":"20","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\mainpages\\style.js":"21","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\index.js":"22","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\components\\sidebarloja.js":"23","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\orders.js":"24","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\categoria.js":"25","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\produtos.js":"26","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\cadastros.js":"27"},{"size":232,"mtime":1630703175795,"results":"28","hashOfConfig":"29"},{"size":119,"mtime":1609184556823,"results":"30","hashOfConfig":"29"},{"size":4503,"mtime":1617201586846,"results":"31","hashOfConfig":"29"},{"size":1057,"mtime":1617202014009,"results":"32","hashOfConfig":"29"},{"size":1400,"mtime":1631297514114,"results":"33","hashOfConfig":"29"},{"size":2598,"mtime":1617310672936,"results":"34","hashOfConfig":"29"},{"size":5758,"mtime":1617205288597,"results":"35","hashOfConfig":"29"},{"size":28532,"mtime":1617636402120,"results":"36","hashOfConfig":"29"},{"size":3565,"mtime":1630682807629,"results":"37","hashOfConfig":"29"},{"size":18165,"mtime":1617310708463,"results":"38","hashOfConfig":"29"},{"size":488,"mtime":1609184615549,"results":"39","hashOfConfig":"29"},{"size":2604,"mtime":1617204580141,"results":"40","hashOfConfig":"29"},{"size":2645,"mtime":1616606693040,"results":"41","hashOfConfig":"29"},{"size":240,"mtime":1630705849799,"results":"42","hashOfConfig":"29"},{"size":89,"mtime":1609184637250,"results":"43","hashOfConfig":"29"},{"size":1526,"mtime":1617310729686,"results":"44","hashOfConfig":"29"},{"size":1065,"mtime":1617648804182,"results":"45","hashOfConfig":"29"},{"size":3999,"mtime":1631556667002,"results":"46","hashOfConfig":"29"},{"size":1059,"mtime":1617222305098,"results":"47","hashOfConfig":"29"},{"size":3644,"mtime":1617732375924,"results":"48","hashOfConfig":"29"},{"size":853,"mtime":1617310376014,"results":"49","hashOfConfig":"29"},{"size":30134,"mtime":1632258096927,"results":"50","hashOfConfig":"29"},{"size":4773,"mtime":1631302716360,"results":"51","hashOfConfig":"29"},{"size":43252,"mtime":1631297550631,"results":"52","hashOfConfig":"29"},{"size":8344,"mtime":1630682359256,"results":"53","hashOfConfig":"29"},{"size":27870,"mtime":1630682203080,"results":"54","hashOfConfig":"29"},{"size":14071,"mtime":1630697567376,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"vfozny",{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"61"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"61"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"85"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"91"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"61"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"61"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":27,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"58"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":21,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"88"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"88"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"61"},"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\index.js",[],["127","128"],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\App.js",[],["129","130"],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\administrativo\\index.js",["131","132"],"import React, { Component } from \"react\";\r\nimport { Container, Input, Button, Title, Label,Img } from \"./style\";\r\nimport firebase from \"../../data/Firebase\";\r\nimport history from \"../../history\";\r\nimport base64 from 'base-64'\r\nimport logoshopycash from \"../../imgsrc/logo.png\"\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { email: \"\", pass: \"\"};\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n  componentDidMount = () => {\r\n\r\n  };\r\n\r\n  /*login = () => {\r\n    const email = this.state.email;\r\n    const pass = this.state.pass;\r\n    firebase\r\n      .auth()\r\n      .setPersistence(firebase.auth.Auth.Persistence.LOCAL)\r\n      .then(function () {\r\n        firebase\r\n          .auth()\r\n          .signInWithEmailAndPassword(email, pass)\r\n          .then(function emailPassProfile() {\r\n            const user = firebase.auth().currentUser;\r\n              localStorage.setItem(\"@token\",user.getIdToken(true));\r\n            firebase\r\n              .database()\r\n              .ref(shopping+\"/user/\" + user.uid)\r\n              .update({\r\n                lastLogin: Date.now(),\r\n              });\r\n              history.push(\"/dashboard\");\r\n              console.log()\r\n          })\r\n          .catch((error) => {\r\n            let errorCode = error.code;\r\n            let errorMessage = error.message;\r\n            if (errorCode === \"auth/weak-password\") {\r\n              alert(\"Senha Fraca!\");\r\n            } else {\r\n              alert(errorMessage);\r\n            }\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        let errorCode = error.code;\r\n        let errorMessage = error.message;\r\n        alert(errorCode + \": \" + errorMessage);\r\n      }); \r\n  };\r\n\r\n  cadastro = () => {\r\n    const shopping = this.state.shopping;\r\n    const email = this.state.email;\r\n    const pass = this.state.pass;\r\n    firebase\r\n      .auth()\r\n      .setPersistence(firebase.auth.Auth.Persistence.LOCAL)\r\n      .then(function () {\r\n        firebase\r\n          .auth()\r\n          .createUserWithEmailAndPassword(email, pass)\r\n          .then(function emailPassProfile() {\r\n            const user = firebase.auth().currentUser;\r\n            firebase\r\n              .database()\r\n              .ref(shopping+\"/user/\" + user.uid)\r\n              .set({\r\n                loginType: \"Email e Senha\",\r\n                email: user.email,\r\n                shopping: shopping,\r\n                createAt: Date.now(),\r\n              });;\r\n              localStorage.setItem(\"@token\",user.refreshToken );\r\n              localStorage.setItem(\"@idshopping\", '5fc57fdaa17de33248fd3674')\r\n              history.push(\"/dashboard\");\r\n          })\r\n          .catch((error) => {\r\n            let errorCode = error.code;\r\n            let errorMessage = error.message;\r\n            if (errorCode === \"auth/weak-password\") {\r\n              alert(\"Senha Fraca!\");\r\n            } else {\r\n              alert(errorMessage);\r\n            }\r\n          });\r\n      });\r\n  };\r\n*/\r\n login = async() => {\r\n  const email = this.state.email;\r\n  const pass = this.state.pass;\r\n  const credentials = btoa(email + \":\" + pass);\r\n  \r\n  console.log(credentials)\r\n\r\n  await fetch(\"https://api-shopycash1.herokuapp.com/api/login\", {\r\n        method: 'GET',\r\n        headers: {\r\n          Authorization: \"Basic \"+credentials,\r\n      }}).then((response) =>response.json())\r\n        .then((response) => localStorage.setItem('@token',response.token))\r\n        .catch((error) => console.log(error));\r\n\r\n\r\n        history.push(\"/administrativo/dashboard\");\r\n    }\r\n\r\n  handleChange(event) {\r\n    this.setState({ [event.target.name]: event.target.value });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Img alt=\"logomarca shopycash\" src={logoshopycash}/>\r\n        <Title>Seja bem vindo, faça login para continuar </Title>\r\n        <Label>Administrativo Shopycash</Label>\r\n        <div style={{display:'flex', alignItems:'center',flexDirection:'column', padding:20}}>\r\n        <Input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          placeholder=\"Informe seu email\"\r\n          value={this.state.email}\r\n          onChange={this.handleChange}\r\n        />\r\n        <Input\r\n          type=\"password\"\r\n          name=\"pass\"\r\n          placeholder=\"Informe sua senha\"\r\n          value={this.state.pass}\r\n          onChange={this.handleChange}\r\n        />\r\n        <Button onClick={this.login}> Entrar </Button>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\nexport default Login;\r\n","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\administrativo\\style.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\components\\Layout.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\components\\sidebar.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\shopping\\index.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\shopping\\index.js",["133"],"import React from \"react\";\r\nimport Modal from 'react-modal';\r\nimport {\r\n  Section,\r\n  Input,\r\n  Button,\r\n  Title,\r\n  Label,\r\n  EditBt,\r\n  DeleteBt,\r\n  InputFile\r\n} from \"./style\";\r\nimport history from \"../../history\";\r\nimport { DashboardLayout } from \"../../components/Layout\";\r\nimport Icon from \"awesome-react-icons\";\r\nimport noimage from \"../../imgsrc/logopad.jpg\"\r\n\r\n\r\nclass SbDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      token: localStorage.getItem(\"@token\"),\r\n      message: \"\",\r\n      messageloja: \"\",\r\n      ischecked: false,\r\n      _id: \"\",\r\n      nomefantasia: \"\",\r\n      razaosocial: \"\",\r\n      shopping: \"\",\r\n      cnpj: \"\",\r\n      email: \"\",\r\n      site: \"\",\r\n      telefone: \"\",\r\n      responsavel: \"\",\r\n      shoppingslug:localStorage.getItem(\"@slug\"),\r\n      lojaslug: \"\",\r\n      lojaid:\"\",\r\n      shoppingid:localStorage.getItem(\"@shoppingid\"),\r\n      imageURL:'',\r\n      logobase64:null,\r\n      capabase64:null,\r\n      segmento:[],\r\n      segmentolist:[],\r\n      userrole: \"loja\",\r\n      \r\n      nomefantasiaedit: \"\",\r\n      razaosocialedit: \"\",\r\n      shoppingedit:\"\",\r\n      cnpjedit: \"\",\r\n      emailedit: \"\",\r\n      siteedit: \"\",\r\n      telefoneedit: \"\",\r\n      responsaveledit: \"\",\r\n      lojaslugedit: \"\",\r\n      logoedit:null,\r\n      capaedit:null,\r\n      \r\n      shdata:[],\r\n      lojaarray: [],\r\n      isModalOpen: false,\r\n      isModalDelOpen:false,\r\n      customStyles:{\r\n        content : {\r\n          top                   : '50%',\r\n          left                  : '50%',\r\n          right                 : 'auto',\r\n          bottom                : 'auto',\r\n          marginRight           : '-50%',\r\n          transform             : 'translate(-50%, -50%)'\r\n        }\r\n      }\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.closeDelModal = this.closeDelModal.bind(this);\r\n    this.onLogoChange = this.onLogoChange.bind(this);\r\n    this.onCapaChange = this.onCapaChange.bind(this);\r\n    this.onLogoEdit = this.onLogoEdit.bind(this);\r\n    this.onCapaEdit = this.onCapaEdit.bind(this);\r\n    this.handleChecked = this.handleChecked.bind(this);\r\n          \r\n   // this.fileInput = React.createRef();\r\n    //this.handleUploadImage = this.handleUploadImage.bind(this);\r\n  }\r\n\r\n\r\n\r\n  componentDidMount() {\r\n    this.listsegmento();\r\n    fetch(\"https://api-shopycash1.herokuapp.com/indexby/shopping/\"+localStorage.getItem(\"@shoppingid\"),{                                                                          \r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ lojaarray: result }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n\r\n\r\n     fetch(\"https://api-shopycash1.herokuapp.com/indexsh/\"+localStorage.getItem(\"@slug\"),{                                                                          \r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ shdata: result }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n      console.log(this.state.shdata)      \r\n  }\r\n  openModal= async (nomefantasia, razaosocial,shopping, cnpj,email,site,telefone,responsavel,lojaslug,logo, capa)=> {\r\n    this.setState({isModalOpen:true, \r\n      nomefantasiaedit: nomefantasia,\r\n      razaosocialedit:razaosocial,\r\n      cnpjedit:cnpj,\r\n      shoppingedit:shopping,\r\n      emailedit:email,\r\n      siteedit:site,\r\n      telefoneedit:telefone,\r\n      responsaveledit:responsavel,\r\n      lojaslugedit: lojaslug,\r\n      logoedit:logo,\r\n      capaedit:capa});\r\n      console.log(logo)\r\n  }\r\n  openModalDelete = async (item)=> {\r\n    this.setState({\r\n      isModalDelOpen:true})\r\n      const id = item;\r\n      this.setState({_id: id}, () =>console.log(this.state._id))\r\n  }\r\n  afterOpenModal() {\r\n    \r\n  }\r\n  closeModal(){\r\n    this.setState({isModalOpen:false});\r\n  }\r\n  closeDelModal(){\r\n    this.setState({isModalDelOpen:false});\r\n  }\r\n  deleteloja = async (item) => {\r\n\r\n    const _id = item;\r\n    console.log(_id, 'new id')\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/deletestore/\"+_id, {\r\n      method: \"GET\",\r\n      headers: {\r\n       Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      }})\r\n    .then((res) => res.json(localStorage.setItem(\"@delmessage\", JSON.stringify(res))))\r\n    .catch((error) => console.log(error))\r\n    .finally(() => this.setState({ isLoaded: false }));\r\n\r\n    window.location.reload();\r\n    \r\n  }\r\n\r\n\r\n\r\n  cadastrarloja = async () => {\r\n    const payload = JSON.stringify({\r\n      nomefantasia: this.state.nomefantasia,\r\n      razaosocial: this.state.razaosocial,\r\n      shopping: this.state.shopping,\r\n      cnpj: this.state.cnpj,\r\n      email: this.state.email,\r\n      site: this.state.site,\r\n      telefone: this.state.telefone,\r\n      responsavel: this.state.responsavel,\r\n      lojaslug: this.state.lojaslug,\r\n      shopping_id: this.state.shoppingid,\r\n      logo: this.state.logobase64,\r\n      capa: this.state.capabase64,\r\n      segmento:this.state.segmento\r\n    })\r\n    \r\n    await fetch(\"https://api-shopycash1.herokuapp.com/insernewstore/\"+localStorage.getItem(\"@slug\"), {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Accept\": \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n      body: payload,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => this.setState({lojaid: res.data._id}))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@error\", error);\r\n        console.log(error);\r\n      });\r\n      this.cadastrausuario();\r\n      //\r\n      \r\n  };\r\n\r\n  updateloja = async () =>{\r\n    const payload = JSON.stringify({\r\n      nomefantasia: this.state.nomefantasiaedit,\r\n      razaosocial: this.state.razaosocialedit,\r\n      shopping: this.state.shoppingeditt,\r\n      cnpj: this.state.cnpjedit,\r\n      email: this.state.emailedit,\r\n      site: this.state.siteedit,\r\n      telefone: this.state.telefoneedit,\r\n      responsavel: this.state.responsaveledit,\r\n      lojaslug: this.state.lojaslugedit,\r\n      logo: this.state.logoedit,\r\n      capa: this.state.capaedit,\r\n    })\r\n    const lojaslugedit = this.state.lojaslugedit;\r\n    console.log('SHOPPING--> '+ lojaslugedit)\r\n        await fetch(\"https://api-shopycash1.herokuapp.com/updatstore/\"+lojaslugedit, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n      body: payload,\r\n        })\r\n      .then((res) => res.json(console.log(JSON.stringify(res))))\r\n      .then((res) => localStorage.setItem(\"@message\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n      //window.location.reload();\r\n  };\r\n/*\r\n  logout() {\r\n    try {\r\n      localStorage.clear();\r\n      history.push(\"/\");\r\n    } catch (error) {}\r\n  }\r\n*/\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const target = event.target;\r\n    const type = target.type;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    if(type === 'file'){\r\n      this.setState({ [name]: event.target.files});\r\n    }else{\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n  };\r\n\r\n  onLogoChange (event) {\r\n    event.preventDefault();\r\n    console.log(\"LOGO:\\n\", event.target.files[0])\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({logobase64:baseurl})\r\n        //this._handleReaderLogo.bind(this)};\r\n      }\r\n    }    \r\n  };\r\n\r\n  onCapaChange (event) {\r\n    event.preventDefault();\r\n    console.log(\"CAPA:\\n\", event.target.files[0])\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({capabase64:baseurl})\r\n      }\r\n    }  \r\n  };\r\n\r\n  onLogoEdit (event) {\r\n    event.preventDefault();\r\n    console.log(\"LOGO:\\n\", event.target.files[0])\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({logoedit:baseurl})\r\n      }\r\n    }    \r\n  };\r\n\r\n  onCapaEdit (event) {\r\n    event.preventDefault();\r\n    console.log(\"CAPA:\\n\", event.target.files[0])\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({capaedit:baseurl})\r\n      }\r\n    }  \r\n  };\r\n        listsegmento() {\r\n          fetch(\"https://api-shopycash1.herokuapp.com/segmento/\", {\r\n            headers: { Authorization: \"Bearer \" + localStorage.getItem(\"@token\") },\r\n          })\r\n            .then((res) => res.json())\r\n            .then((result) => this.setState({ segmentolist: result }))\r\n            .catch((error) => console.log(error))\r\n            .finally(() => this.setState({ isLoaded: false }), []);\r\n        }\r\n\r\n          handleChecked(event) {\r\n            let newcheck = '';\r\n            \r\n            if(this.state.segmento.length<=0 && event.target.checked){\r\n              newcheck = event.target.value\r\n              this.setState({segmento:[newcheck]})\r\n            }else if(this.state.segmento.length>0 && event.target.checked){\r\n              newcheck = event.target.value\r\n              this.setState({segmento:[...this.state.segmento,newcheck]})\r\n            }\r\n\r\n\r\n            let array = [...this.state.segmento]\r\n            let index = array.indexOf(event.target.value)\r\n            if(event.target.checked === false){\r\n              array.splice(index,1)\r\n              this.setState({segmento:array})\r\n            }\r\n            console.log(event)\r\n        }\r\n          \r\n/*-----------------------usuario loja-------------------*/\r\ncadastrausuario = async () => {\r\n\r\n  const payload = JSON.stringify({\r\n    nome: this.state.nomeuser,\r\n    email: this.state.emailuser,\r\n    pass: this.state.passuser,\r\n    userRole: this.state.userrole,\r\n    shoppingslug: this.state.shoppingslug,\r\n    lojaslug:this.state.lojaslug,\r\n    shoppingid: this.state.shoppingid,\r\n    lojaid: this.state.lojaid\r\n  })\r\n\r\n  console.log(payload)\r\n\r\n  await fetch(\"https://api-shopycash1.herokuapp.com/api/loja/cadastro\", {\r\n  method: \"POST\",\r\n  headers: {\r\n    Accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n  },\r\n  body: payload,\r\n})\r\n  .then((res) => res.json())\r\n  .then((res) => localStorage.setItem(\"@messageuser\", JSON.stringify(res)))\r\n  .catch((error) => {\r\n    localStorage.setItem(\"@message\", error);\r\n    console.log(error);\r\n  });\r\n\r\n  window.location.reload(); \r\n}\r\n\r\n\r\n  render() {\r\n    const { lojaarray } = this.state;\r\n    return (\r\n      <DashboardLayout>\r\n        <Section>\r\n        {this.state.shdata.map((item, index)=>{\r\n          return(\r\n          <Title key={item.shopping._id}>\r\n            Cadastro de Lojas - {item.shopping.shopping}\r\n          </Title>\r\n          )\r\n        })}\r\n        <span>Usuario Logado: {localStorage.getItem(\"@nome\")} - {localStorage.getItem(\"@email\")}</span>\r\n          <Input\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome Fantasia\"\r\n            required={true}\r\n            name=\"nomefantasia\"\r\n            value={this.state.nomefantasia}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Razão Social\"\r\n            required={true}\r\n            name=\"razaosocial\"\r\n            value={this.state.razaosocial}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.shopping}\r\n            style={{ width: \"74%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Shopping\"\r\n            name=\"shopping\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.cnpj}\r\n            style={{ width: \"24.5%\" }}\r\n            type=\"number\"\r\n            placeholder=\"CNPJ\"\r\n            name=\"cnpj\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          \r\n\r\n          <Input\r\n            value={this.state.email}\r\n            style={{ width: \"48.51%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.site}\r\n            style={{ width: \"50%\" }}\r\n            type=\"url\"\r\n            placeholder=\"Site\"\r\n            name=\"site\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.telefone}\r\n            style={{ width: \"24%\" }}\r\n            type=\"tel\"\r\n            placeholder=\"Telefone\"\r\n            name=\"telefone\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.responsavel}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Responsavel\"\r\n            name=\"responsavel\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.lojaslug}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Loja Slug\"\r\n            name=\"lojaslug\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <div style={{padding:0,display:'flex', flexDirection:'row', justifyContent:\"right\"}}>\r\n           <div style={{flexDirection:'column', justifyContent:'center',alignItems:'center', padding:10}}>\r\n            <Label style={{padding:10,display:'block'}} htmlFor=\"logo\">Selecione um logo</Label>\r\n            <div style={{display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column'}}> \r\n                <InputFile\r\n                  style={{ width: \"100%\"}}\r\n                  Label=\"LOGO\"\r\n                  type=\"file\"\r\n                  name=\"logo\"\r\n                  id=\"logo\"\r\n                  accept=\".jpeg, .png, .jpg .gif\"\r\n                  required={true}\r\n                  onChange={this.onLogoChange}\r\n                />\r\n                <img alt=\"logo\" src={this.state.logobase64 == null ? noimage : this.state.logobase64} style={{borderWidht:1,paddingTop:10, width:250,height: 250,overflow: \"hidden\",borderRadius: \"50%\", justifyContent:'center'}}/>\r\n               </div>\r\n                </div>\r\n              <div style={{flexDirection:'column',  padding:10}}>\r\n            <Label style={{padding:10, display:'block'}} htmlFor=\"capa\">Selecione uma capa</Label>\r\n            <div style={{display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column'}}>\r\n              <InputFile\r\n                style={{ width: \"100%\" }}\r\n                label=\"CAPA\"\r\n                type=\"file\"\r\n                name=\"capa\"\r\n                id=\"capa\"\r\n                accept=\".jpeg, .png, .jpg\"\r\n                required={true}\r\n                onChange={this.onCapaChange}\r\n              />\r\n              <img alt=\"capa\" src={this.state.capabase64 == null ? noimage : this.state.capabase64} style={{borderWidht:1,height:250, overflow: \"hidden\", paddingTop:10}}/>\r\n              </div>\r\n              </div>\r\n          </div>\r\n          <div style={{display:'flex',flexDirection:'row', justifyContent:'space-around', padding:10}}>\r\n            <Label>Segmentos</Label>\r\n            <div style={{display:'flex',flexDirection:'column'}}>\r\n                {this.state.segmentolist.slice(0,7).map((seg, index) => {\r\n                      return (\r\n                        <div>\r\n                              <input type=\"checkbox\" value={seg.nome} name=\"segmento\" onChange={this.handleChecked}\r\n                              style={{padding:10}}/>\r\n                              <span key={seg._id} style={{display:'inline-block', paddingLeft:10}}>{seg.nome}</span>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                    </div>\r\n                    <div style={{display:'flex',flexDirection:'column'}}>\r\n                {this.state.segmentolist.slice(7,14).map((seg, index) => {\r\n                      return (\r\n                        <div>\r\n                              <input type=\"checkbox\" value={seg.nome} name=\"segmento\" onChange={this.handleChecked}\r\n                              style={{padding:10}}/>\r\n                              <span key={seg._id} style={{display:'inline-block', paddingLeft:10}}>{seg.nome}</span>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                    </div>\r\n                    <div style={{display:'flex',flexDirection:'column'}}>\r\n                {this.state.segmentolist.slice(14,21).map((seg, index) => {\r\n                      return (\r\n                        <div>\r\n                              <input type=\"checkbox\" value={seg.nome} name=\"segmento\" onChange={this.handleChecked}\r\n                              style={{padding:10}}/>\r\n                              <span key={seg._id} style={{display:'inline-block', paddingLeft:10}}>{seg.nome}</span>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                    </div>\r\n                    <div style={{display:'flex',flexDirection:'column'}}>\r\n                {this.state.segmentolist.slice(21,28).map((seg, index) => {\r\n                      return (\r\n                        <div>\r\n                              <input type=\"checkbox\" value={seg.nome} name=\"segmento\" onChange={this.handleChecked}\r\n                              style={{padding:10}}/>\r\n                              <span key={seg._id} style={{display:'inline-block', paddingLeft:10}}>{seg.nome}</span>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                    </div>\r\n                    <br />\r\n          </div>\r\n          <hr />\r\n          <Title>Cadastro do usuario da loja: {this.state.nomefantasia}</Title>\r\n          <Input\r\n            value={this.state.nomeuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome do usuario\"\r\n            name=\"nomeuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange} \r\n          />\r\n          <Input\r\n            value={this.state.emailuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email do usuario\"\r\n            name=\"emailuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.passuser}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Senha do usuario\"\r\n            name=\"passuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.userrole}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"role\"\r\n            name=\"userrole\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n          \r\n          <Input\r\n            value={this.state.lojaslug}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"lojaslug\"\r\n            name=\"lojaslug\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n          <div>\r\n          <Button value=\"Submit\" onClick={this.cadastrarloja}>\r\n            Cadastrar\r\n          </Button>\r\n          </div>\r\n        </Section>\r\n        <Section>\r\n          <Label>Lojas</Label>\r\n          <table style={{borderWidth:'1px', width:'100%'}}>\r\n            <thead style={{ backgroundColor:'rgba(94, 170, 168, 0.5)'}}>\r\n              <tr>\r\n                <th>NOME</th>\r\n                <th>RAZÃO SOCIAL</th>\r\n                <th>SHOPPING</th>\r\n                <th>CNPJ</th>\r\n                <th>EMAIL</th>\r\n                <th>SITE</th>\r\n                <th>TELEFONE</th>\r\n                <th>RESPONSAVEL</th>\r\n                <th>SLUG</th>\r\n                <th>AÇÕES</th>\r\n              </tr>\r\n            </thead>\r\n            {lojaarray.map((item, index) => {\r\n              return (\r\n                <tbody style={{fontFamily:'Helvetica', fontSize:'12px', textAlign: 'center'}}\r\n                  key={item._id}>\r\n                  <tr key={item._id} style={{borderWidth:'1px',height:'50px'}} >\r\n                    <td  centerstyle={{borderWidth:'1px'}}>{item.nomefantasia}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.razaosocial}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.shopping}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.cnpj}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.email}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.site}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.telefone}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.responsavel}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.slug}</td>\r\n                    <td style={{borderWidth:'1px', alignItems:'center'}}>\r\n                      <EditBt onClick={() => this.openModal(\r\n                        item.nomefantasia,\r\n                        item.razaosocial,\r\n                        item.shopping,\r\n                        item.cnpj,\r\n                        item.email,\r\n                        item.site,\r\n                        item.telefone,\r\n                        item.responsavel,\r\n                        item.slug,\r\n                        item.Logo,\r\n                        item.Capa\r\n                        )}><Icon name='edit-pencil-simple' />EDITAR</EditBt>\r\n                      <DeleteBt onClick={() => this.deleteloja(item._id)}><Icon name=\"x\"/>EXCLUIR</DeleteBt>\r\n                      </td>\r\n                  </tr>\r\n                </tbody>\r\n              );\r\n            })}\r\n          </table>\r\n          </Section> \r\n\r\n          <div>\r\n          <Modal\r\n          isOpen={this.state.isModalOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.closeModal}\r\n          style={this.state.customStyles}\r\n          >\r\n \r\n          <div>\r\n            {this.state.lojaslugedit}\r\n          <Input\r\n            style={{ width: \"100%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome Fantasia\"\r\n            required={true}\r\n            name=\"nomefantasiaedit\"\r\n            value={this.state.nomefantasiaedit}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.razaosocialedit}\r\n            style={{ width: \"100%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Razão Social\"\r\n            name=\"razaosocialedit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.shoppingedit}\r\n            style={{ width: \"100%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Shopping\"\r\n            name=\"shoppingedit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.cnpjedit}\r\n            style={{ width: \"25%\" }}\r\n            type=\"number\"\r\n            placeholder=\"CNPJ\"\r\n            name=\"cnpjedit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.emailedit}\r\n            style={{ width: \"48.51%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"emailedit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.siteedit}\r\n            style={{ width: \"50%\" }}\r\n            type=\"url\"\r\n            placeholder=\"Site\"\r\n            name=\"siteedit\"\r\n            onChange={this.handleChange}\r\n          />         \r\n          <Input\r\n            value={this.state.telefoneedit}\r\n            style={{ width: \"25%\" }}\r\n            type=\"tel\"\r\n            placeholder=\"Telefone\"\r\n            name=\"telefoneedit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.responsaveledit}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Responsavel\"\r\n            name=\"responsaveledit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.lojaslugedit}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"LojaSlug\"\r\n            name=\"lojaslugedit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <div style={{padding:0,display:'flex', flexDirection:'row', justifyContent:\"right\"}}>\r\n           <div style={{flexDirection:'column', justifyContent:'center',alignItems:'center', padding:10}}>\r\n            <Label style={{padding:10,display:'block'}} htmlFor=\"logo\">Selecione um logo</Label>\r\n            <div style={{display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column'}}> \r\n                <InputFile\r\n                  style={{ width: \"100%\"}}\r\n                  Label=\"LOGO\"\r\n                  type=\"file\"\r\n                  name=\"logoedit\"\r\n                  id=\"logoedit\"\r\n                  accept=\".jpeg, .png, .jpg .gif\"\r\n                  required={true}\r\n                  onChange={this.onLogoEdit}\r\n                />\r\n                <img alt=\"logo\" src={this.state.logoedit == null ? noimage : this.state.logoedit} style={{borderWidht:1,paddingTop:10, width:250,height: 250,overflow: \"hidden\",borderRadius: \"50%\", justifyContent:'center'}}/>\r\n               </div>\r\n                </div>\r\n              <div style={{flexDirection:'column',  padding:10}}>\r\n            <Label style={{padding:10, display:'block'}} htmlFor=\"capa\">Selecione uma capa</Label>\r\n            <div style={{display:'flex', alignItems:'center', justifyContent:'center', flexDirection:'column'}}>\r\n              <InputFile\r\n                style={{ width: \"100%\" }}\r\n                label=\"CAPA\"\r\n                type=\"file\"\r\n                name=\"capaedit\"\r\n                id=\"capaedit\"\r\n                accept=\".jpeg, .png, .jpg\"\r\n                required={true}\r\n                onChange={this.onCapaEdit}\r\n              />\r\n              <img alt=\"capa\" src={this.state.capaedit == null ? noimage : this.state.capaedit} style={{borderWidht:1,height:250, overflow: \"hidden\", paddingTop:10}}/>\r\n              </div>\r\n              </div>\r\n          </div>\r\n\r\n          <hr />\r\n          <Button value=\"Submit\" onClick={this.updateloja}>\r\n            Alterar\r\n          </Button>\r\n          </div>\r\n          <button onClick={this.closeModal}>close</button>\r\n        </Modal>\r\n        <Modal\r\n          isOpen={this.state.isModalDelOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.closeDelModal}\r\n          style={this.state.customStyles}\r\n        ><div>\r\n            {this.state._id}\r\n\r\n         <DeleteBt onclick={() =>this.deleteloja()}>DELETE</DeleteBt>\r\n\r\n         </div>\r\n         <button onClick={this.closeDelModal}>close</button>\r\n          </Modal>\r\n        </div>\r\n        \r\n      </DashboardLayout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SbDashboard;\r\n","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\routes.js",[],["134","135"],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\administrativo\\index.js",["136"],"import React from \"react\";\r\nimport Modal from 'react-modal';\r\nimport {\r\n  Section,\r\n  Input,\r\n  Button,\r\n  Title,\r\n  Label,\r\n  EditBt,\r\n  DeleteBt\r\n} from \"./style\";\r\n//import firebase from \"../../data/Firebase\";\r\nimport history from \"../../history\";\r\nimport { DashboardLayout } from \"../../components/Layout\";\r\nimport Icon from \"awesome-react-icons\";\r\nimport Geocode from \"react-geocode\";\r\n\r\nclass Dashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      token: localStorage.getItem(\"@token\"),\r\n      message: \"\",\r\n      messageloja: \"\",\r\n      ischecked: false,\r\n      _id: \"\",\r\n      nome: \"\",\r\n      endereco: \"\",\r\n      cnpj: \"\",\r\n      telefone: \"\",\r\n      email: \"\",\r\n      site: \"\",\r\n      responsavel: \"\",\r\n      shoppingslug: \"\",\r\n      \r\n\r\n      insertid:\"\",\r\n      \r\n      nomeedit: \"\",\r\n      enderecoedit: \"\",\r\n      cnpjedit: \"\",\r\n      telefoneedit: \"\",\r\n      emailedit: \"\",\r\n      siteedit: \"\",\r\n      responsaveledit: \"\",\r\n      shoppingslugedit: \"\",\r\n\r\n      nomeuser: \"\",\r\n      emailuser: \"\",\r\n      passuser: \"\",\r\n      userrole: \"shopping\",\r\n\r\n      shoppingarray: [],\r\n      isModalOpen: false,\r\n      isModalDelOpen:false,\r\n      customStyles:{\r\n        content : {\r\n          top                   : '50%',\r\n          left                  : '50%',\r\n          right                 : 'auto',\r\n          bottom                : 'auto',\r\n          marginRight           : '-50%',\r\n          transform             : 'translate(-50%, -50%)'\r\n        },\r\n        latitude:0,\r\n        longitude:0\r\n      }\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.closeDelModal = this.closeDelModal.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    Geocode.setApiKey('AIzaSyBSKF5Edf4EO1jFwQNR6y4YTWO3kvZ3afg')\r\n    fetch(\"https://api-shopycash1.herokuapp.com/indexsh\")\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ shoppingarray: result }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n  }\r\n  openModal= async (nome, endereco, cnpj, telefone,email, site, responsavel, shoppingslug)=> {\r\n    this.setState({isModalOpen:true,\r\n      nomeedit: nome,\r\n      enderecoedit:endereco,\r\n      cnpjedit:cnpj,\r\n      telefoneedit:telefone,\r\n      emailedit:email,\r\n      siteedit:site,\r\n      responsaveledit:responsavel,\r\n      shoppingslugedit: shoppingslug});\r\n  }\r\n  openModalDelete = async (item)=> {\r\n    this.setState({\r\n      isModalDelOpen:true})\r\n      const id = item;\r\n      //console.log(item+' esse é o item\\n'+ id+ 'esse é o id')\r\n      this.setState({_id: id})\r\n  }\r\n  afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n  closeModal(){\r\n    this.setState({isModalOpen:false});\r\n  }\r\n  closeDelModal(){\r\n    this.setState({isModalDelOpen:false});\r\n  }\r\n\r\n  deleteShopping = async (item) => {\r\n    const _id = item;\r\n    console.log(_id, 'new id')\r\n     await fetch(\"https://api-shopycash1.herokuapp.com/delete/\"+_id, {\r\n      method: \"GET\",\r\n      headers: {\r\n       Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      }})\r\n    .then((res) => res.json(localStorage.setItem(\"@message\", JSON.stringify(res))))\r\n    .catch((error) => console.log(error))\r\n    .finally(() => this.setState({ isLoaded: false }));\r\n    \r\n    window.location.reload();\r\n    \r\n  }\r\n\r\n\r\n  cadastrarShopping = async () => {\r\n   await Geocode.fromAddress(this.state.endereco)\r\n        .then((response)=>{\r\n          const {lat, long} = response.results[0].geometry.location;\r\n          console.log(lat, long);\r\n          localStorage.setItem(\"lat\",lat)\r\n          this.setState({latitude:lat, longitude:long})\r\n        },\r\n        (error)=>{\r\n          console.log(error);\r\n        }\r\n    );\r\n      await fetch(\"https://api-shopycash1.herokuapp.com/insert/\"+this.state.shoppingslug, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n      body: JSON.stringify({\r\n        nome: this.state.nome,\r\n        endereco: this.state.endereco,\r\n        cnpj: this.state.cnpj,\r\n        telefone: this.state.telefone,\r\n        email: this.state.email,\r\n        site: this.state.site,\r\n        responsavel: this.state.responsavel,\r\n        lat: this.state.latitude,\r\n        long: this.state.longitude,\r\n        shoppingslug: this.state.shoppingslug,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@shres\", res._id))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n      this.cadastrausuario();\r\n\r\n  };\r\n\r\n  updateShopping = async () =>{\r\n    const shoppingslugedit = this.state.shoppingslugedit;\r\n    console.log('SHOPPING--> '+ shoppingslugedit)\r\n      await fetch(\"https://api-shopycash1.herokuapp.com/update/\"+shoppingslugedit, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n          body: JSON.stringify({\r\n            nome: this.state.nomeedit,\r\n            endereco: this.state.enderecoedit,\r\n            cnpj: this.state.cnpjedit,\r\n            telefone: this.state.telefoneedit,\r\n            email: this.state.emailedit,\r\n            site: this.state.siteedit,\r\n            responsavel: this.state.responsaveledit,\r\n            shoppingslug: this.state.shoppingslugedit,\r\n          }),\r\n        })\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@message\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n      window.location.reload();\r\n  };\r\n\r\n/*-----------------------usuario shopping-------------------*/\r\ncadastrausuario = async () => {\r\n\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/api/shopping/cadastro\", {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n    },\r\n    body: JSON.stringify({\r\n      nome: this.state.nomeuser,\r\n      email: this.state.emailuser,\r\n      pass: this.state.passuser,\r\n      userRole: this.state.userrole,\r\n      shoppingslug: this.state.shoppingslug,\r\n      shopping_id: localStorage.getItem(\"@shres\")\r\n    }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((res) => localStorage.setItem(\"@messageuser\", JSON.stringify(res)))\r\n    .catch((error) => {\r\n      localStorage.setItem(\"@message\", error);\r\n      console.log(error);\r\n    });\r\n}\r\n/*\r\n  logout() {\r\n    try {\r\n      localStorage.clear();\r\n      history.push(\"/\");\r\n    } catch (error) {}\r\n  }\r\n*/\r\n  handleChange = (event) => {\r\n    const target = event.target;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { shoppingarray } = this.state;\r\n    return (\r\n      <DashboardLayout>\r\n        <Section>\r\n          <Title>Cadastro de Shoppings</Title>\r\n          <Section>\r\n          <Input\r\n            style={{ width: \"100%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Shopping\"\r\n            required=\"true\"\r\n            name=\"nome\"\r\n            value={this.state.nome}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.endereco}\r\n            style={{ width: \"100%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Endereço\"\r\n            name=\"endereco\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          </Section>\r\n          <Section>\r\n            <Input\r\n            value={this.state.email}\r\n            style={{ width: \"50%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          </Section>\r\n          <Section>\r\n          <Input\r\n            value={this.state.cnpj}\r\n            style={{ width: \"24.5%\" }}\r\n            type=\"number\"\r\n            placeholder=\"CNPJ\"\r\n            name=\"cnpj\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.telefone}\r\n            style={{ width: \"25%\" }}\r\n            type=\"tel\"\r\n            placeholder=\"Telefone\"\r\n            name=\"telefone\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n</Section>\r\n<Section>\r\n          <Input\r\n            value={this.state.site}\r\n            style={{ width: \"50%\" }}\r\n            type=\"url\"\r\n            placeholder=\"Site\"\r\n            name=\"site\"\r\n            onChange={this.handleChange}\r\n          />\r\n</Section>\r\n<Section>\r\n          <Input\r\n            value={this.state.responsavel}\r\n            style={{ width: \"24.5%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Responsavel\"\r\n            name=\"responsavel\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.shoppingslug}\r\n            style={{ width: \"25 %\" }}\r\n            type=\"text\"\r\n            placeholder=\"Shoppign slug\"\r\n            name=\"shoppingslug\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          </Section>\r\n          <hr />\r\n          <Title>Cadastro do usuario do shopping: {this.state.nome}</Title>\r\n          \r\n          <Input\r\n            value={this.state.nomeuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome do usuario\"\r\n            name=\"nomeuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.emailuser}\r\n            style={{ width: \"49.5%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email do usuario\"\r\n            name=\"emailuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.passuser}\r\n            style={{ width: \"49%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Senha do usuario\"\r\n            name=\"passuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.userrole}\r\n            style={{ width: \"24.5%\" }}\r\n            type=\"text\"\r\n            placeholder=\"role\"\r\n            name=\"userrole\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n          <Input\r\n            value={this.state.shoppingslug}\r\n            style={{ width: \"24.5%\" }}\r\n            type=\"text\"\r\n            placeholder=\"shoppingslug\"\r\n            name=\"shoppingslug\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n          <Section>\r\n          <Button value=\"Submit\" onClick={this.cadastrarShopping}>\r\n            Cadastrar\r\n          </Button>\r\n          </Section>\r\n\r\n        </Section>\r\n        <Section>\r\n          <Label>Shoppings</Label>\r\n          <table style={{borderWidth:'1px', width:'100%'}}>\r\n            <thead style={{ backgroundColor:'rgba(94, 170, 168, 0.5)'}}>\r\n              <tr>\r\n                <th>NOME</th>\r\n                <th>ENDEREÇO</th>\r\n                <th>CNPJ</th>\r\n                <th>TELEFONE</th>\r\n                <th>EMAIL</th>\r\n                <th>SITE</th>\r\n                <th>RESPONSAVEL</th>\r\n                <th>SLUG</th>\r\n                <th>AÇÕES</th>\r\n              </tr>\r\n            </thead>\r\n            {shoppingarray.map((item, index) => {\r\n              return (\r\n                <tbody style={{fontFamily:'Helvetica', fontSize:'12px', textAlign: 'center'}}\r\n                  key={index}>\r\n                  <tr style={{borderWidth:'1px',height:'50px'}} >\r\n                    <td style={{borderWidth:'1px'}}>{item.nome}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.endereco}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.cnpj}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.telefone}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.email}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.site}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.responsavel}</td>\r\n                    <td style={{borderWidth:'1px'}}>{item.shoppingslug}</td>\r\n                    <td style={{borderWidth:'1px'}}>\r\n                      <EditBt onClick={() => this.openModal(\r\n                        item.nome,\r\n                        item.endereco,\r\n                        item.cnpj,\r\n                        item.telefone,\r\n                        item.email,\r\n                        item.site,\r\n                        item.responsavel,\r\n                        item.shoppingslug)}><Icon name='edit-pencil-simple' />EDITAR</EditBt>\r\n                      <DeleteBt onClick={() => this.deleteShopping(item._id)}><Icon name=\"x\"/>EXCLUIR</DeleteBt>\r\n                      </td>\r\n                  </tr>\r\n                </tbody>\r\n              );\r\n            })}\r\n          </table>\r\n          </Section> \r\n          <div>\r\n          <Modal\r\n          isOpen={this.state.isModalOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.closeModal}\r\n          style={this.state.customStyles}\r\n        >\r\n \r\n          <div>\r\n\r\n            {this.state.shoppingslugedit}\r\n          <Input\r\n            style={{ width: \"100%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Shopping\"\r\n            required=\"true\"\r\n            name=\"nomeedit\"\r\n            value={this.state.nomeedit}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.enderecoedit}\r\n            style={{ width: \"100%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Endereço\"\r\n            name=\"enderecoedit\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.cnpjedit}\r\n            style={{ width: \"25%\" }}\r\n            type=\"number\"\r\n            placeholder=\"CNPJ\"\r\n            name=\"cnpjedit\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.telefoneedit}\r\n            style={{ width: \"25%\" }}\r\n            type=\"tel\"\r\n            placeholder=\"Telefone\"\r\n            name=\"telefoneedit\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.emailedit}\r\n            style={{ width: \"48.51%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"emailedit\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.siteedit}\r\n            style={{ width: \"50%\" }}\r\n            type=\"url\"\r\n            placeholder=\"Site\"\r\n            name=\"siteedit\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.responsaveledit}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Responsavel\"\r\n            name=\"responsaveledit\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.shoppingslugedit}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Shoppign slug\"\r\n            name=\"shoppingslugedit\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <hr />\r\n          <Button value=\"Submit\" onClick={this.updateShopping}>\r\n            Alterar\r\n          </Button>\r\n          </div>\r\n          <button onClick={this.closeModal}>close</button>\r\n        </Modal>\r\n        <Modal\r\n          isOpen={this.state.isModalDelOpen}\r\n          onAfterOpen={this.afterOpenModal}\r\n          onRequestClose={this.closeDelModal}\r\n          style={this.state.customStyles}\r\n        ><div>\r\n            {this.state._id}\r\n         <Button value=\"Submit\" onclick={() => this.deleteShopping()}>DELETE</Button>\r\n\r\n         </div>\r\n         <button onClick={this.closeDelModal}>close</button>\r\n          </Modal>\r\n        </div>\r\n        \r\n      </DashboardLayout>\r\n    );\r\n  }\r\n}\r\n\r\n/*\r\n<Label>Segmentos</Label>\r\n              {segmentolist.map((seg, index) => {\r\n                    return (\r\n                      <div key={seg._id} style={{ display: 'block', width:'12em', fontFamily: \"Arial\"}}>\r\n                          <div >\r\n                            <input id={index} type=\"checkbox\" value={seg.nome} name=\"segmento\" onChange={this.handleChecked}/>\r\n                            <span class=\"label-text\">{seg.nome}</span>\r\n                          </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  <br />\r\n\r\n\r\n  listsegmento() {\r\n    fetch(\"http://192.168.15.69:3001/segmento/\", {\r\n      headers: { Authorization: \"Bearer \" + localStorage.getItem(\"@token\") },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ segmentolist: result }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n  }\r\n\r\n    handleChecked(event) {\r\n      if(event.target.checked){\r\n        this.setState({segmento:[...this.state.segmento, event.target.value]})\r\n        //newarr.push([i, event.target.value])\r\n      }\r\n      console.log([this.state.segmento])\r\n  }\r\n    this.handleChecked = this.handleChecked.bind(this);\r\n     this.listsegmento();\r\n*/\r\nexport default Dashboard;\r\n",["137","138"],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\data\\Firebase.js",[],["139","140"],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\administrativo\\style.js",[],["141","142"],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\shopping\\style.js",[],["143","144"],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\components\\BodyWraper.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\history.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\mainpages\\index.js",["145"],"import React from \"react\";\r\nimport {Container, Label, Section, Title, Link, SubSection} from './style'\r\nimport {BsTools, BsBuilding,BsFillBagFill} from 'react-icons/bs'\r\n//import history from \"../../history\";\r\n\r\nclass MainPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {}\r\n\r\n  render() {\r\n    return (\r\n      <Container\r\n        style={{\r\n          padding: 10,\r\n          justifyContent: \"space-around\",\r\n          alignItems: \"center\",\r\n          display: \"flex\",\r\n          flex: 1,\r\n          flexDirection: \"column\",\r\n        }}\r\n      >\r\n        <Title>Sistema Shopy Cash</Title>\r\n        <Section>\r\n          <Link href=\"http://localhost:3000/administrativo/login\">\r\n          <BsTools/>\r\n          <SubSection>\r\n            <Label>\r\n            Painel Administrativo\r\n            </Label>\r\n            </SubSection>\r\n          </Link>\r\n        </Section>\r\n        <Section >\r\n          <Link href=\"http://localhost:3000/shopping/login\">\r\n          <BsBuilding/>\r\n          <SubSection>\r\n            <Label>\r\n            Painel Shopping\r\n            </Label>\r\n            </SubSection>\r\n            </Link>\r\n        </Section>\r\n        <Section >\r\n          <Link href=\"http://localhost:3000/store/login\">\r\n          <BsFillBagFill/>\r\n          <SubSection>\r\n            <Label>\r\n            Painel Lojista\r\n            </Label>\r\n            </SubSection>\r\n            </Link>\r\n        </Section>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainPage;\r\n","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\shopping\\style.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\style.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\loja\\style.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\login\\loja\\index.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\mainpages\\style.js",[],"C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\index.js",["146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172"],"import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport {\r\n  Section,\r\n  Input,\r\n  Button,\r\n  Title,\r\n  Label,\r\n  EditBt,\r\n  DeleteBt,\r\n  InputFile,\r\n  Img,\r\n  Tr,\r\n  Td,\r\n  Tdr,\r\n  TextArea,\r\n  Title2,\r\n  Span\r\n} from \"./style\";\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport AlertTitle from '@material-ui/lab/AlertTitle';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { BiMenu } from \"react-icons/bi\";\r\nimport history from \"../../history\";\r\nimport { DashboardLoja } from \"../../components/Layout\";\r\nimport Icon from \"awesome-react-icons\";\r\nimport noimage from \"../../imgsrc/logopad.jpg\";\r\nimport Chart from 'chart.js/auto';\r\nimport moment from 'moment';\r\nimport 'moment/locale/pt-br';\r\n\r\nclass LjDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      token: localStorage.getItem(\"@token\"),\r\n      message: \"\",\r\n      messageloja: \"\",\r\n      ischecked: false,\r\n      value:0,\r\n\r\n      _id: \"\",\r\n      lojaid: localStorage.getItem(\"@lojaid\"),\r\n      nome: \"\",\r\n      desc: \"\",\r\n      preco: 0,\r\n      loja: localStorage.getItem(\"@loja\"),\r\n      shopping: localStorage.getItem(\"@shopping\"),\r\n      shoppingid: localStorage.getItem(\"@shoppingid\"),\r\n      categoria: \"\",\r\n      categoriaid:\"\",\r\n      ativo: true,\r\n      estoque: 0,\r\n      imagembase64: null,\r\n      imagem2base64: null,\r\n\r\n      categoriaslist: [],\r\n      nomeedit: \"\",\r\n      descedit: \"\",\r\n      precoedit: 0,\r\n      categoriaedit: \"\",\r\n      categoriaidedit:\"\",\r\n      ativoedit:true,\r\n      estoqueedit:0,\r\n      imgbs64edt: null,\r\n      imgbs642edt:null,\r\n\r\n      comentarioresult: [],\r\n\r\n      orderstoprocess: [],\r\n      rows:[],\r\n      count:0,\r\n      countdeliv:0,\r\n      countawait:0,\r\n      countroute:0,\r\n      faturado:0,\r\n      label:['Janeiro', 'Feveiro', 'Março', 'Abril', 'Maio', 'Junho','Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n      chartdata: [{id: 'Janeiro', vendas: {value:0}},\r\n      {id: 'Feveiro', vendas: {value:0}},\r\n      {id: 'Março', vendas: {value:0}},\r\n      {id: 'Abril', vendas: {value:0}},\r\n      {id: 'Maio', vendas: {value:0}},\r\n      {id: 'Junho', vendas: {value:0}},\r\n      {id: 'Julho', vendas: {value:0}},\r\n      {id: 'Agosto', vendas: {value:0}},\r\n      {id: 'Setembro', vendas: {value:0}},\r\n      {id: 'Outubro', vendas: {value:0}},\r\n      {id: 'Novembro', vendas: {value:0}},\r\n      {id: 'Dezembro', vendas: {value:0}},],\r\n      bardata: [{id: 'Janeiro', fatur: {value:0}},\r\n      {id: 'Feveiro', fatur: {value:0}},\r\n      {id: 'Março', fatur: {value:0}},\r\n      {id: 'Abril', fatur: {value:0}},\r\n      {id: 'Maio', fatur: {value:0}},\r\n      {id: 'Junho', fatur: {value:0}},\r\n      {id: 'Julho', fatur: {value:0}},\r\n      {id: 'agosto', fatur: {value:0}},\r\n      {id: 'Setembro', fatur: {value:0}},\r\n      {id: 'Outubro', fatur: {value:0}},\r\n      {id: 'Novembro', fatur: {value:0}},\r\n      {id: 'Dezembro', fatur: {value:0}},],\r\n      dougdata:[0,0],\r\n      radarlabel:[],\r\n      radardata:[],\r\n      nomeedit: \"\",\r\n      hide: 'none',\r\n      iconbt:'arrow-right',\r\n\r\n      lojadata: [],\r\n      prodarray: [],\r\n      isModalOpen: false,\r\n      isModalDelOpen: false,\r\n      customStyles: {\r\n        content: {\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          right: \"auto\",\r\n          bottom: \"auto\",\r\n          marginRight: \"-50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n        }}\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.closeDelModal = this.closeDelModal.bind(this);\r\n    this.onImageChange = this.onImageChange.bind(this);\r\n    this.onImage2Change = this.onImage2Change.bind(this);\r\n    this.onImageEdit = this.onImageEdit.bind(this);\r\n    this.onImage2Edit = this.onImage2Edit.bind(this);\r\n    this.handleChecked = this.handleChecked.bind(this);\r\n\r\n    // this.fileInput = React.createRef();\r\n    //this.handleUploadImage = this.handleUploadImage.bind(this);\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n\r\n        moment.locale('pt-br');\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/store/viewdelivery/\" +\r\n        localStorage.getItem(\"@lojaid\")\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({orderstoprocess: result.data}))\r\n      .catch((error) => console.log(error))\r\n      for(var i=0; i<this.state.orderstoprocess.length; i++){\r\n        console.log(this.state.orderstoprocess[i])\r\n          const newrow = {\r\n            id: this.state.orderstoprocess[i]._id,\r\n            nome: this.state.orderstoprocess[i].dadoscliente.nome,\r\n            cpf: this.state.orderstoprocess[i].dadoscliente.cpf,\r\n            endereco:\r\n              this.state.orderstoprocess[i].deliveryadress.logradouro +\",\" +\r\n              this.state.orderstoprocess[i].deliveryadress.numero +\",\" +\r\n              this.state.orderstoprocess[i].deliveryadress.bairro +\", \" +\r\n              this.state.orderstoprocess[i].deliveryadress.cidade +\"/\" +\r\n              this.state.orderstoprocess[i].deliveryadress.estado +\" \\n\" +\r\n              this.state.orderstoprocess[i].deliveryadress.referencia,\r\n            paymentmethod: this.state.orderstoprocess[i].paymentmethod,\r\n            shippingmethod: this.state.orderstoprocess[i].shippingmethod,\r\n            shippingtax: \"R$\" + this.state.orderstoprocess[i].shippingprice,\r\n            total: \"R$\" + this.state.orderstoprocess[i].total,\r\n            change: \"R$\" + this.state.orderstoprocess[i].change\r\n          }\r\n         \r\n          this.setState({count:this.state.orderstoprocess.length})\r\n          if(this.state.orderstoprocess[i].cartstatus === 'await'){\r\n            this.setState({faturado:this.state.faturado+this.state.orderstoprocess[i].total})\r\n            this.setState({countawait:this.state.countawait+1})\r\n          }if(this.state.orderstoprocess[i].cartstatus === 'delivered'){\r\n            this.setState({faturado:this.state.faturado+this.state.orderstoprocess[i].total})\r\n            this.setState({countdeliv:this.state.countdeliv+1})\r\n          }if(this.state.orderstoprocess[i].cartstatus === 'onroute'){\r\n            this.setState({faturado:this.state.faturado+this.state.orderstoprocess[i].total})\r\n            this.setState({countroute:this.state.countroute+1})\r\n          }\r\n          this.state.rows.push(newrow)\r\n      }\r\n      for(var i=0; i<this.state.orderstoprocess.length; i++){\r\n        const month = moment(this.state.orderstoprocess[i].datacompra).format(\"MMMM\").toLocaleLowerCase();\r\n        for(var x=0; x<this.state.label.length; x++){\r\n          \r\n          const label = this.state.chartdata[x].id.toLocaleLowerCase();   \r\n          console.log(month+label)      \r\n          if(label === month){\r\n            console.log(\"entrei aqui\",month)\r\n           // console.log('beef')\r\n            for(var y=0; y<this.state.chartdata.length; y++){\r\n              const chartmonth = this.state.chartdata[y].id.toLocaleLowerCase();\r\n              if(month === chartmonth){\r\n               // console.log('flif')\r\n                this.state.chartdata[y].vendas.value = this.state.chartdata[y].vendas.value +1;\r\n              }\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        for(var i=0; i<this.state.orderstoprocess.length; i++){\r\n          const month = moment(this.state.orderstoprocess[i].datacompra).format(\"MMMM\").toLocaleLowerCase();\r\n          for(var x=0; x<this.state.label.length; x++){\r\n            const label = this.state.bardata[x].id.toLocaleLowerCase();   \r\n            console.log(month+label)      \r\n            if(label === month){\r\n              console.log(\"entrei aqui\",month)\r\n              for(var y=0; y<this.state.bardata.length; y++){\r\n                const chartmonth = this.state.chartdata[y].id.toLocaleLowerCase();\r\n                if(month === chartmonth){\r\n                  this.state.bardata[y].fatur.value = this.state.bardata[y].fatur.value + this.state.orderstoprocess[i].total;\r\n                  console.log(this.state.bardata[y].fatur.value)\r\n                }\r\n                }\r\n              }\r\n            }\r\n          }\r\n \r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/indexstoreby/\" +\r\n        localStorage.getItem(\"@lojaid\"),\r\n    )\r\n      .then((res) => res.json())\r\n      .then(function (result) {\r\n        localStorage.setItem(\"@loja\", result.nomefantasia);\r\n        localStorage.setItem(\"@shopping\", result.shopping);\r\n        localStorage.setItem(\"@rating\", result.rating);\r\n        localStorage.setItem(\"@count\",result.countco)\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);  \r\n      \r\n      \r\n      var ctx = 'myChart';\r\n      \r\n      this.state.myChart = new Chart(ctx, {\r\n        type: 'line',\r\n        data: {\r\n            datasets: [{\r\n              label:\"Vendas/Mês no APP\",\r\n                data: this.state.chartdata,\r\n                borderColor: 'rgb(94, 170, 168)',\r\n                tension: 0.1,\r\n                fill:true,\r\n                backgroundColor:'rgba(94, 170, 168, 0.2)'\r\n            }]\r\n        },\r\n        options: {\r\n          scales: {\r\n            y: {\r\n                beginAtZero: true\r\n            }\r\n          },\r\n            parsing: {\r\n                xAxisKey: 'id',\r\n                yAxisKey: 'vendas.value'\r\n            }\r\n        }\r\n        });\r\n\r\n        await fetch(\"https://api-shopycash1.herokuapp.com/indexcategory/\"+localStorage.getItem(\"@lojaid\"))\r\n          .then((res) => res.json())\r\n          .then((result) => this.setState({ categorialist: result.data }))\r\n          .catch((error) => console.log(error))\r\n          .finally(() => this.setState({ isLoaded: false }), []);\r\n\r\n          //console.log(\"size of array: \\n\"+this.state.categorialist.length)\r\n\r\n          for(var j=0; j<this.state.categorialist.length; j++){\r\n            this.state.radardata.push(0)\r\n          }\r\n          console.log(\"pre-dataradar value: \"+ this.state.radardata)\r\n\r\n          for(var z=0; z<this.state.categorialist.length; z++){\r\n            this.state.radarlabel.push(this.state.categorialist[z].nome)\r\n            for(var v=0; v<this.state.orderstoprocess.length; v++){\r\n              for(var f=0; f<this.state.orderstoprocess[v].produtos.length; f++){\r\n                if(this.state.orderstoprocess[v].produtos[f].categoria === this.state.categorialist[z].nome){\r\n                  this.state.radardata[z] = this.state.radardata[z]+1;\r\n                }  \r\n            }\r\n          }\r\n        }\r\n\r\n        var rdx = 'myRadar';\r\n\r\n        this.state.myRadar = new Chart(rdx, {\r\n          type:'radar',\r\n\r\n          data:{\r\n            labels:this.state.radarlabel,\r\n          datasets: [{\r\n            label:\"Vendas por categoria\",\r\n            data: this.state.radardata,\r\n              fill: true,\r\n              backgroundColor: 'rgba(255, 99, 132, 0.2)',\r\n              borderColor: 'rgb(255, 99, 132)',\r\n              pointBackgroundColor: 'rgb(255, 99, 132)',\r\n              pointBorderColor: '#fff',\r\n              pointHoverBackgroundColor: '#fff',\r\n              pointHoverBorderColor: 'rgb(255, 99, 132)'\r\n          }]\r\n      },\r\n      options: {\r\n        scales: {\r\n          r: {\r\n              angleLines: {\r\n                  display: true\r\n              },\r\n              ticks:{\r\n                stepSize:1\r\n              },\r\n              suggestedMin: 0,\r\n          }\r\n      },\r\n        elements: {\r\n          line: {\r\n            borderWidth: 3\r\n          }\r\n        }\r\n      },\r\n        });\r\n\r\n        var bdx = \"mynewchart\"\r\n\r\n        this.state.mynewchart = new Chart(bdx, {\r\n          type: 'bar',\r\n          data: {\r\n              datasets: [{\r\n                label:\"Faturament0/Mês no APP\",\r\n                  data: this.state.bardata,\r\n                  borderColor: 'rgb(94, 170, 168)',\r\n                  barPercentage: 1,\r\n                  fill:true,\r\n                  backgroundColor:'rgba(153, 102, 255, 0.2)',\r\n                  borderWidth: 1,\r\n                  borderColor: 'rgb(153, 102, 255)'\r\n              }]\r\n          },\r\n          options: {\r\n            scales: {\r\n              y: {\r\n                  beginAtZero: true,\r\n                  ticks:{\r\n                    display: true,                                   \r\n                  }\r\n              },\r\n              x: {\r\n                grid: {\r\n                  offset: true\r\n                }\r\n            }\r\n            },\r\n              parsing: {\r\n                  xAxisKey: 'id',\r\n                  yAxisKey: 'fatur.value'\r\n              }\r\n          }\r\n          });\r\n\r\n          for(var i=0; i<this.state.orderstoprocess.length; i++){\r\n              if(this.state.orderstoprocess[i].paymentmethod ==='Cartão'){\r\n                console.log(\"here\")\r\n                this.state.dougdata[0] = this.state.dougdata[0]+1\r\n              }else{\r\n                this.state.dougdata[1] = this.state.dougdata[1]+1\r\n              }\r\n              console.log(this.state.dougdata)\r\n            }\r\n\r\n          var dbx = \"mydougchart\"\r\n\r\n        this.state.mydougchart = new Chart(dbx, {\r\n          type: 'doughnut',\r\n          data: {\r\n              labels: [\r\n                \"Cartão\",\r\n                \"Dinheiro\"\r\n              ], \r\n              datasets: [{\r\n                  data: this.state.dougdata,\r\n                  backgroundColor: [\r\n                    'rgb(255, 99, 132)',\r\n                    'rgb(54, 162, 235)',\r\n                  ]\r\n              }]\r\n          },\r\n          });\r\n\r\n\r\n          this.comentconsult();\r\n  }\r\n\r\n  comentconsult= async ()=>{\r\n    const lojaid = localStorage.getItem(\"@lojaid\")\r\n      await fetch(\"https://api-shopycash1.herokuapp.com/comentarios/\"+lojaid)\r\n          .then((res) => res.json())\r\n          .then((result) => this.setState({ comentarioresult: result }))\r\n          .catch((error) => console.log(error))\r\n          .finally(() => this.setState({ isLoaded: false }), []);\r\n\r\n            console.log(this.state.comentarioresult)\r\n  }\r\n\r\n  expande =()=>{\r\n    if(this.state.hide === 'none'){\r\n      this.setState({hide:'flex'})\r\n      this.setState({iconbt:'arrow-down'})\r\n    }else{\r\n      this.setState({hide:'none'})\r\n      this.setState({iconbt:'arrow-right'})\r\n    }\r\n  }\r\n  \r\n  openModal = async (\r\n    id,\r\n    nome,\r\n    desc,\r\n    preco,\r\n    estoque,\r\n    imagem,\r\n    imagem2,\r\n    categoria,\r\n    categoriaid\r\n  ) => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      _id:id,\r\n      nomeedit: nome,\r\n      descedit: desc,\r\n      precoedit: preco,\r\n      estoqueedit: estoque,\r\n      imgbs64edt: imagem,\r\n      imgbs642edt: imagem2,\r\n      categoriaedit: categoria,\r\n      categoriaidedit: categoriaid,\r\n\r\n    });\r\n  };\r\n  openModalDelete = async (item) => {\r\n    this.setState({\r\n      isModalDelOpen: true,\r\n    });\r\n    const id = item;\r\n    this.setState({ _id: id }, () => console.log(this.state._id));\r\n  };\r\n  afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n  closeModal() {\r\n    this.setState({ isModalOpen: false });\r\n  }\r\n  closeDelModal() {\r\n    this.setState({ isModalDelOpen: false });\r\n  }\r\n  deleteprod = async (item) => {\r\n    const _id = item;\r\n    const lojaid = this.state.lojaid\r\n    console.log(_id, \"new id\");\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/product/delete/\" + lojaid+\"/\"+_id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n    })\r\n      .then((res) =>\r\n        res.json(localStorage.setItem(\"@delmessage\", JSON.stringify(res)))\r\n      )\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }));\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  cadastrarproduto = async () => {\r\n    const payload = JSON.stringify({\r\n      loja_id: this.state.lojaid,\r\n      nome: this.state.nome,\r\n      desc: this.state.desc,\r\n      preco: this.state.preco,\r\n      loja: this.state.loja,\r\n      shopping: this.state.shopping,\r\n      shoppingid: this.state.shoppingid,\r\n      categoria: this.state.categoria,\r\n      categoriaid:this.state.categoriaid,\r\n      ativo: this.state.ativo,\r\n      imagem: this.state.imagembase64,\r\n      imagem2: this.state.imagem2base64,\r\n      estoque: this.state.estoque,\r\n    });\r\n\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/stores/insertprod/\" +\r\n      localStorage.getItem(\"@lojaid\"),\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: payload,\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@prodcad\", res))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@error\", error);\r\n        console.log(error);\r\n      });\r\n    //this.cadastrausuario();\r\n\r\n    window.location.reload();\r\n  \r\n  };\r\n\r\n  updateproduto = async () => {\r\n    const payload = JSON.stringify({\r\n        loja_id: this.state.lojaid,\r\n        nome: this.state.nomeedit,\r\n        desc: this.state.descedit,\r\n        preco: this.state.precoedit,\r\n        categoria: this.state.categoriaedit,\r\n        categoriaid:this.state.categoriaidedit,\r\n        ativo: this.state.ativoedit,\r\n        imagem: this.state.imgbs64edt,\r\n        imagem2: this.state.imgbs642edt,\r\n        estoque: this.state.estoqueedit\r\n    })\r\n    const lojaid = this.state.lojaid;\r\n    const prodid = this.state._id;\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/product/update/\"+lojaid+\"/\"+prodid ,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: payload\r\n      }\r\n    )\r\n      .then((res) => res.json(console.log(JSON.stringify(res))))\r\n      .then((res) => localStorage.setItem(\"@message\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  logout() {\r\n    try {\r\n      localStorage.removeItem(\"@token\");\r\n      localStorage.clear();\r\n      history.push(\"/\");\r\n    } catch (error) { }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const target = event.target;\r\n    const type = target.type;\r\n    const value = target.value;\r\n    const title= target.title;\r\n    const id = target.id;\r\n    const name = target.name;\r\n\r\n    if (type === \"file\") {\r\n      this.setState({ [name]: event.target.files });\r\n    }else if(type === \"radio\" && id === \"normalfield\"){\r\n      this.setState({categoriaid: title, categoria:value});\r\n    }else if (type === \"radio\" && id === \"editfield\" ) {\r\n      this.setState({categoriaidedit: title, categoriaedit:value});\r\n    }\r\n    else {\r\n      this.setState({\r\n        [name]: value,\r\n      });\r\n    }\r\n\r\n      console.log(event)\r\n      console.log(this.state.categoria);\r\n      console.log(this.state.categoriaid);\r\n  };\r\n\r\n  onImageChange(event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = \"\";\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl);\r\n        this.setState({ imagembase64: baseurl });\r\n        //this._handleReaderLogo.bind(this)};\r\n      };\r\n    }\r\n  }\r\n\r\n  onImage2Change(event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = \"\";\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl);\r\n        this.setState({ imagem2base64: baseurl });\r\n      };\r\n    }\r\n  }\r\n\r\n  onImageEdit (event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({imgbs64edt:baseurl})\r\n      }\r\n    }    \r\n  };\r\n\r\n  onImage2Edit (event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({imgbs642edt:baseurl})\r\n      }\r\n    }  \r\n  };\r\n  \r\n  listcategorias= async ()=> {\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/indexcategory/\"+localStorage.getItem(\"@lojaid\"))\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ categoriaslist: result.data }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n      console.log(this.state.categoriaslist)\r\n  }\r\n\r\n  handleChecked(event) {\r\n    console.log(event);\r\n    let newcheck = \"\";\r\n    if (this.state.categoria.length <= 0 && event.target.checked) {\r\n      newcheck = event.target.value;\r\n      this.setState({ categoria: [newcheck] });\r\n    } else if (this.state.categoria.length > 0 && event.target.checked) {\r\n      newcheck = event.target.value;\r\n      this.setState({ categoria: [...this.state.categoria, newcheck] });\r\n    }\r\n    let array = [...this.state.categoria]\r\n    let index = array.indexOf(event.target.value)\r\n    if(event.target.checked === false){\r\n      array.splice(index,1)\r\n      this.setState({categoria:array})\r\n    }\r\n  }\r\n  /*-----------------------usuario loja-------------------*/\r\n  cadastrausuario = async () => {\r\n    const payload = JSON.stringify({\r\n      nome: this.state.nomeuser,\r\n      email: this.state.emailuser,\r\n      pass: this.state.passuser,\r\n      userRole: this.state.userrole,\r\n      shoppingslug: this.state.shoppingslug,\r\n      lojaslug: this.state.lojaslug,\r\n      shoppingid: this.state.shoppingid,\r\n      lojaid: this.state.lojaid,\r\n    });\r\n\r\n\r\n    console.log(payload);\r\n\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/api/loja/cadastro\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n      body: payload,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@messageuser\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  render() {\r\n    const { prodarray } = this.state;\r\n    return (\r\n      <DashboardLoja>\r\n        \r\n        <Section>\r\n        <Grid container spacing={3}>\r\n        <Grid item xs={2}>\r\n          <Paper variant=\"outlined\" elevation={3} style={{textAlign:'center', padding:10, flexDirection:'column', alignItems:'center', justifyContent:'center'}}>\r\n          <Label>{this.state.count}</Label>\r\n          <Title>Pedidos</Title>\r\n          </Paper>\r\n        </Grid>\r\n\r\n        <Grid item xs={2}>\r\n          <Paper variant=\"outlined\" elevation={3} style={{textAlign:'center', padding:10, flexDirection:'column', alignItems:'center', justifyContent:'center'}}>\r\n          <Label>{this.state.countawait}</Label>\r\n          <Title>Em espera</Title>\r\n          </Paper>\r\n          </Grid>\r\n          <Grid item xs={2}>\r\n          <Paper variant=\"outlined\" elevation={3} style={{textAlign:'center', padding:10, flexDirection:'column', alignItems:'center', justifyContent:'center'}}>\r\n          <Label>{this.state.countroute}</Label>\r\n          <Title>Em rota</Title>\r\n          </Paper>\r\n        </Grid>\r\n        <Grid item xs={2}>\r\n          <Paper variant=\"outlined\" elevation={3} style={{textAlign:'center', padding:10, flexDirection:'column', alignItems:'center', justifyContent:'center'}}>\r\n          <Label>{this.state.countdeliv}</Label>\r\n          <Title>Concluidos</Title>\r\n          </Paper>         \r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <Paper variant=\"outlined\" elevation={3} style={{padding:10}}>\r\n          <div className={\"text-center\"}><Label>Media das notas</Label></div>\r\n          <div className={\"flex-row items-center justify-between\"}>\r\n          <Title2>{localStorage.getItem(\"@rating\")}\r\n          <Rating\r\n            name=\"hover-feedback\"\r\n            readOnly\r\n            defaultValue={localStorage.getItem(\"@rating\")}\r\n            precision={0.5}\r\n          />\r\n          </Title2>\r\n          </div>\r\n          <Span>Media baseada em <strong>{localStorage.getItem(\"@count\")}</strong> comentarios.</Span>\r\n          </Paper>\r\n        </Grid>\r\n        </Grid>\r\n                  \r\n        <Grid container spacing={3} style={{paddingTop:10}}>\r\n            <Grid item xs={3}>\r\n              <Paper className={\"p-4\"}variant=\"outlined\" elevation={3}>\r\n                <canvas id=\"myChart\" width=\"150\" height=\"150\" ></canvas>\r\n              </Paper>\r\n            </Grid>\r\n            <Grid item xs={3}>\r\n              <Paper className={\"p-4\"} variant=\"outlined\" elevation={3} >\r\n                <canvas id=\"myRadar\" width=\"150\" height=\"150\"></canvas></Paper>\r\n              </Grid>\r\n            <Grid item xs={3}>\r\n              <Paper className={\"p-4\"} variant=\"outlined\" elevation={3} >\r\n                <canvas id=\"mynewchart\" width=\"150\" height=\"150\"></canvas></Paper>\r\n              </Grid>\r\n              <Grid item xs={3}>\r\n              <Paper className={\"p-4\"} variant=\"outlined\" elevation={3} >\r\n                <canvas id=\"mydougchart\" width=\"150\" height=\"150\"></canvas></Paper>\r\n              </Grid>\r\n          </Grid>\r\n          \r\n          <Grid container spacing={3} style={{paddingTop:10}}>\r\n            <Grid item xs={6}>\r\n              <Paper className={\"p-4\"} variant=\"outlined\" elevation={3} >\r\n                {this.state.comentarioresult.map((item)=>{\r\n                  return(\r\n                  <Alert style={{margin: 5}}  variant=\"filled\" severity=\"info\">\r\n                <AlertTitle>{item.username} - Pedido nº{item.order}</AlertTitle>\r\n                <i>Nota: <strong>{item.nota}</strong></i>\r\n                <br/>\r\n                {item.comentario}\r\n              </Alert>\r\n                  )})}\r\n                </Paper>\r\n              </Grid>\r\n            <Grid item xs={3}>\r\n              <Paper className={\"p-4\"} variant=\"outlined\" elevation={3} >\r\n              {this.state.countroute >= 1 ?\r\n              <Alert style={{margin: 5}}  variant=\"filled\" severity=\"warning\">\r\n                <AlertTitle>Pedidos em rota de Entrega</AlertTitle>\r\n                Existem um total de {this.state.countroute} pedidos <strong>em rota de Entrega!</strong>\r\n              </Alert> : \r\n            <Alert style={{margin: 5}}  variant=\"filled\" severity=\"success\">\r\n                <AlertTitle>Tudo certo</AlertTitle>\r\n                No Momento não existem pedidos para serem <strong>enviados!</strong>\r\n            </Alert>}\r\n                </Paper>\r\n              </Grid>\r\n              <Grid item xs={3}>\r\n              <Paper className={\"p-4\"} variant=\"outlined\" elevation={3} >\r\n              {this.state.countawait >= 1 ?\r\n              <Alert style={{margin: 5}} variant=\"filled\" severity=\"error\">\r\n                <AlertTitle>Pedidos aguardando</AlertTitle>\r\n                Existem um total de {this.state.countawait} pedidos <strong>aguardando envio!</strong>\r\n              </Alert> : \r\n            <Alert style={{margin: 5}}  variant=\"filled\" severity=\"success\">\r\n                <AlertTitle>Tudo certo</AlertTitle>\r\n                No Momento não existem pedidos para serem <strong>enviados!</strong>\r\n            </Alert>}\r\n                </Paper>\r\n              </Grid>\r\n          </Grid>\r\n          </Section>\r\n      </DashboardLoja>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LjDashboard;\r\n\r\n/**\r\n *  <hr />\r\n          <Title>Cadastro do usuario da loja: {this.state.nomefantasia}</Title>\r\n          <Input\r\n            value={this.state.nomeuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome do usuario\"\r\n            name=\"nomeuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.emailuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email do usuario\"\r\n            name=\"emailuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.passuser}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Senha do usuario\"\r\n            name=\"passuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.userrole}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"role\"\r\n            name=\"userrole\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n\r\n          <Input\r\n            value={this.state.lojaslug}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"lojaslug\"\r\n            name=\"lojaslug\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n */\r\n","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\components\\sidebarloja.js",["173","174"],"import React, { useState } from \"react\";\r\nimport {Navigation} from 'react-minimal-side-navigation';\r\nimport 'react-minimal-side-navigation/lib/ReactMinimalSideNavigation.css';\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport Icon from \"awesome-react-icons\";\r\nimport { MdDashboard, MdSettings,MdFolder } from 'react-icons/md';\r\nimport { BsPencilSquare,BsTagFill } from \"react-icons/bs\";\r\nimport { FaFileInvoiceDollar } from \"react-icons/fa\";\r\nimport { FiLogOut } from \"react-icons/fi\";\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { BiMenu } from \"react-icons/bi\";\r\n\r\n\r\n\r\n\r\nexport const SidebarLoja = () => {\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n\r\n    const logout = () => {\r\n      try {\r\n        localStorage.clear();\r\n        history.push(\"/\");\r\n      } catch (error) {\r\n        \r\n      }\r\n  }\r\n  \r\n    return (\r\n\r\n        <React.Fragment>\r\n      {/* Sidebar Overlay */}\r\n      <div\r\n        onClick={() => setIsSidebarOpen(false)}\r\n        className={`fixed inset-0 z-20 block transition-opacity bg-black opacity-50 lg:hidden ${\r\n          isSidebarOpen ? \"ease-out translate-x-0 block\" : \"ease-in -translate-x-full hidden\"\r\n        }`}\r\n      />\r\n    \r\n      <div className=\"absolute top-0 w-full z-50\">\r\n      <AppBar position=\"static\" >\r\n        <Toolbar >\r\n          <IconButton edge=\"start\"  color=\"inherit\" aria-label=\"menu\">\r\n            <BiMenu  onClick={() => {if(isSidebarOpen=== false){\r\n            setIsSidebarOpen(true)\r\n          }else{\r\n            setIsSidebarOpen(false)\r\n          }}} />\r\n          </IconButton>\r\n          <span variant=\"h6\" >\r\n            Shopy Cash - Usuario Logado: {localStorage.getItem(\"@nome\")} - {localStorage.getItem(\"@email\")}\r\n          </span>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n        </div>\r\n        {/* Sidebar */}\r\n        <div\r\n        className={`fixed inset-y-0 left-0 z-30 w-64 overflow-y-auto transition duration-300 ease-out transform translate-x-0 bg-white border-r-2 lg:translate-x-0 lg:static lg:inset-0 ${\r\n          isSidebarOpen ? \"ease-out translate-x-0 block\" : \"ease-in -translate-x-full hidden\"\r\n        }`}\r\n      >\r\n        <div className=\"flex items-center justify-center mt-10 text-center py-6\">\r\n          <span className=\"text-lg font-semibold text-black pt-12\">\r\n            Shopycash Loja - {localStorage.getItem(\"@loja\")}\r\n          </span>\r\n        </div>\r\n\r\n        <Navigation\r\n            activeItemId={location.pathname}\r\n            onSelect={({itemId}) => {\r\n              history.push(itemId)\r\n            }}\r\n            items={[\r\n              {\r\n                title: 'Dashboard',\r\n                itemId: '/store/'+localStorage.getItem(\"@slug\")+'/dashboard',\r\n                elemBefore: () => <MdDashboard />,\r\n              },\r\n              {\r\n                title: 'Cadastros',\r\n                itemId: '/store/'+localStorage.getItem(\"@slug\")+'/cadastros',\r\n                elemBefore: () => <BsPencilSquare />,\r\n                subNav: [\r\n                  {\r\n                    title: \"Produtos\",\r\n                    itemId: '/store/'+localStorage.getItem(\"@slug\")+'/produtos',\r\n                    \r\n                    elemBefore: () => <BsTagFill />\r\n                  },\r\n                  {\r\n                    title: \"Categorias\",\r\n                    itemId: '/store/'+localStorage.getItem(\"@slug\")+'/categoria',\r\n                    elemBefore: () => <MdFolder />\r\n                  }\r\n                ]\r\n              },\r\n              {\r\n                title: 'Pedidos',\r\n                itemId: '/store/'+localStorage.getItem(\"@slug\")+'/pedidos',\r\n                elemBefore: () => <FaFileInvoiceDollar />,\r\n              }, \r\n              {\r\n                title: 'Configurações',\r\n                itemId: '/store/'+localStorage.getItem(\"@slug\")+'/configuracoes',\r\n                elemBefore: () => <MdSettings />,\r\n              },                                                                                                                                                             \r\n            ]}\r\n          />\r\n\r\n      <div className=\"relative bottom-0 w-full my-8\">\r\n          <Navigation\r\n            activeItemId={location.pathname}\r\n            items={[\r\n              {\r\n                title: \"Sair\",\r\n                itemId: \"/\",\r\n                elemBefore: () => <FiLogOut />\r\n              }\r\n            ]}\r\n            onSelect={logout}\r\n          />\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n      \r\n    );\r\n\r\n    \r\n};\r\n","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\orders.js",["175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195"],"import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport {\r\n  Section,\r\n  Container,\r\n  Input,\r\n  Title,\r\n  Label,\r\n  EditBt,\r\n  DeleteBt,\r\n} from \"../../dashboard/loja/style\";\r\nimport history from \"../../history\";\r\nimport { DashboardLoja } from \"../../components/Layout\";\r\nimport Icon from \"awesome-react-icons\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport {\r\n  DataGrid,\r\n  GridColDef,\r\n  GridApi,\r\n  GridCellValue,\r\n  getThemePaletteMode,\r\n} from \"@material-ui/data-grid\";\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport AlertTitle from '@material-ui/lab/AlertTitle';\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { createMuiTheme, darken, lighten } from \"@material-ui/core/styles\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport Chart from 'chart.js/auto';\r\nimport moment from 'moment';\r\nimport 'moment/locale/pt-br';\r\nclass CadastroCat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      token: localStorage.getItem(\"@token\"),\r\n      message: \"\",\r\n      messageloja: \"\",\r\n      ischecked: false,\r\n\r\n      _id: \"\",\r\n      cartid: \"\",\r\n      userid: \"\",\r\n      lojaid: localStorage.getItem(\"@lojaid\"),\r\n      nome: \"\",\r\n      orderstoprocess: [],\r\n      cartdetail: [],\r\n      cartstatus: \"\",\r\n      rows:[],\r\n      count:0,\r\n      countdeliv:0,\r\n      countawait:0,\r\n      countroute:0,\r\n      faturado:0,\r\n      label:['Janeiro', 'Feveiro', 'Março', 'Abril', 'Maio', 'Junho','Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\r\n      chartdata: [{id: 'Janeiro', vendas: {value:0}},\r\n        {id: 'Feveiro', vendas: {value:0}},\r\n        {id: 'Março', vendas: {value:0}},\r\n        {id: 'Abril', vendas: {value:0}},\r\n        {id: 'Maio', vendas: {value:0}},\r\n        {id: 'Junho', vendas: {value:0}},\r\n        {id: 'Julho', vendas: {value:0}},\r\n        {id: 'agosto', vendas: {value:0}},\r\n        {id: 'Setembro', vendas: {value:0}},\r\n        {id: 'Outubro', vendas: {value:0}},\r\n        {id: 'Novembro', vendas: {value:0}},\r\n        {id: 'Dezembro', vendas: {value:0}},],\r\n      radarlabel:[],\r\n      radardata:[],\r\n      nomeedit: \"\",\r\n      hide: 'none',\r\n      iconbt:'arrow-right',\r\n\r\n      lojadata: [],\r\n      prodarray: [],\r\n      isModalOpen: false,\r\n      isModalDelOpen: false,\r\n      customStyles: {\r\n        content: {\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          right: \"auto\",\r\n          bottom: \"auto\",\r\n          marginRight: \"-50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n        },\r\n      },\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    \r\n\r\n    // this.fileInput = React.createRef();\r\n    //this.handleUploadImage = this.handleUploadImage.bind(this);\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    moment.locale('pt-br');\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/store/viewdelivery/\" +\r\n        localStorage.getItem(\"@lojaid\")\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({orderstoprocess: result.data}))\r\n      .catch((error) => console.log(error))\r\n      for(var i=0; i<this.state.orderstoprocess.length; i++){\r\n        //console.log(this.state.orderstoprocess[i]._id)\r\n        var suprow = []\r\n\r\n        \r\n          const newrow = {\r\n            id: this.state.orderstoprocess[i]._id,\r\n            nome: this.state.orderstoprocess[i].dadoscliente.nome,\r\n            cpf: this.state.orderstoprocess[i].dadoscliente.cpf,\r\n            endereco:\r\n              this.state.orderstoprocess[i].deliveryadress.logradouro +\",\" +\r\n              this.state.orderstoprocess[i].deliveryadress.numero +\",\" +\r\n              this.state.orderstoprocess[i].deliveryadress.bairro +\", \" +\r\n              this.state.orderstoprocess[i].deliveryadress.cidade +\"/\" +\r\n              this.state.orderstoprocess[i].deliveryadress.estado +\" \\n\" +\r\n              this.state.orderstoprocess[i].deliveryadress.referencia,\r\n            paymentmethod: this.state.orderstoprocess[i].paymentmethod,\r\n            shippingmethod: this.state.orderstoprocess[i].shippingmethod,\r\n            shippingtax: \"R$\" + this.state.orderstoprocess[i].shippingprice.toFixed(2),\r\n            total: \"R$\" + this.state.orderstoprocess[i].total.toFixed(2),\r\n            cartstatus:this.state.orderstoprocess[i].cartstatus == 'await' ? 'Em espera' : this.state.orderstoprocess[i].cartstatus == 'delivered' ? 'Entregue' : this.state.orderstoprocess[i].cartstatus == 'onroute' ? \"Em rota\" : ''\r\n          }\r\n\r\n          this.setState({count:this.state.orderstoprocess.length})\r\n\r\n          if(this.state.orderstoprocess[i].cartstatus === 'await'){\r\n            this.setState({faturado:this.state.faturado+this.state.orderstoprocess[i].total})\r\n            this.setState({countawait:this.state.countawait+1})\r\n            \r\n          }if(this.state.orderstoprocess[i].cartstatus === 'delivered'){\r\n            this.setState({faturado:this.state.faturado+this.state.orderstoprocess[i].total})\r\n            this.setState({countdeliv:this.state.countdeliv+1})\r\n          }if(this.state.orderstoprocess[i].cartstatus === 'onroute'){\r\n            this.setState({faturado:this.state.faturado+this.state.orderstoprocess[i].total})\r\n            this.setState({countroute:this.state.countroute+1})\r\n          }\r\n\r\n      \r\n          this.state.rows.push(newrow)\r\n      }\r\n      console.log(\"count\",this.state.countawait)\r\n      for(var i=0; i<this.state.orderstoprocess.length; i++){\r\n        const month = moment(this.state.orderstoprocess[i].datacompra).format(\"MMMM\");\r\n        console.log(month)\r\n        for(var x=0; x<this.state.label.length; x++){\r\n          \r\n          const label = this.state.label[x];   \r\n          console.log(label)      \r\n          if(month === label){\r\n            console.log('beef')\r\n            for(var y=0; y<this.state.chartdata.length; y++){\r\n              const chartmonth = this.state.chartdata[y].id;\r\n              if(month === chartmonth){\r\n                console.log('flif')\r\n                this.state.chartdata[y].vendas.value = this.state.chartdata[y].vendas.value +1;\r\n              }\r\n              }\r\n            }\r\n          }\r\n        }\r\n \r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/indexstoreby/\" +\r\n        localStorage.getItem(\"@lojaid\"),\r\n    )\r\n      .then((res) => res.json())\r\n      .then(function (result) {\r\n        localStorage.setItem(\"@loja\", result.nomefantasia);\r\n        localStorage.setItem(\"@shopping\", result.shopping);\r\n      })\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);  \r\n      \r\n      \r\n    \r\n\r\n        await fetch(\"https://api-shopycash1.herokuapp.com/indexcategory/\"+localStorage.getItem(\"@lojaid\"))\r\n          .then((res) => res.json())\r\n          .then((result) => this.setState({ categorialist: result.data }))\r\n          .catch((error) => console.log(error))\r\n          .finally(() => this.setState({ isLoaded: false }), []);\r\n\r\n          //console.log(\"size of array: \\n\"+this.state.categorialist.length)\r\n\r\n          for(var j=0; j<this.state.categorialist.length; j++){\r\n            this.state.radardata.push(0)\r\n          }\r\n          console.log(\"pre-dataradar value: \"+ this.state.radardata)\r\n\r\n          for(var z=0; z<this.state.categorialist.length; z++){\r\n            this.state.radarlabel.push(this.state.categorialist[z].nome)\r\n            for(var v=0; v<this.state.orderstoprocess.length; v++){\r\n              for(var f=0; f<this.state.orderstoprocess[v].produtos.length; f++){\r\n                if(this.state.orderstoprocess[v].produtos[f].categoria === this.state.categorialist[z].nome){\r\n                  this.state.radardata[z] = this.state.radardata[z]+1;\r\n                }  \r\n            }\r\n          }\r\n        }\r\n          \r\n          console.log(\"negoça\",this.state.radarlabel)\r\n          console.log(\"doublenegoça\", this.state.radardata)\r\n\r\n  };\r\n\r\n  expande =()=>{\r\n    if(this.state.hide === 'none'){\r\n      this.setState({hide:'flex'})\r\n      this.setState({iconbt:'arrow-down'})\r\n    }else{\r\n      this.setState({hide:'none'})\r\n      this.setState({iconbt:'arrow-right'})\r\n    }\r\n  }\r\n\r\n  openModal = async (_id, userid) => {\r\n    await this.setState({\r\n      isModalOpen: true,\r\n      _id: _id,\r\n      userid: userid,\r\n    });\r\n\r\n    this.cartDetail(_id);\r\n  };\r\n\r\n  closeModal() {\r\n    \r\n    this.setState({ isModalOpen: false });\r\n  }\r\n\r\n  cartDetail = async () => {\r\n    const id = this.state._id\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/store/viewdelivery/\" +\r\n        localStorage.getItem(\"@lojaid\") +\r\n        \"/\" +\r\n        id,\r\n      {\r\n        method: \"GET\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => this.setState({ cartdetail: res }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }));\r\n\r\n    //window.location.reload();\r\n    console.log(this.state.cartdetail);\r\n  };\r\n\r\n  handleStatus = (event) => {\r\n    this.setState({ cartstatus: event.target.value });\r\n  };\r\n\r\n  updatestatus = async () => {\r\n    const cartid = this.state._id;\r\n    console.log(\"cartid\", cartid);\r\n    const cartstatus = this.state.cartstatus;\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/store/statuschange/\" + cartid,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: JSON.stringify({\r\n          cartstatus: cartstatus,\r\n        }),\r\n      }\r\n    )\r\n      .then((res) => res.json(console.log(JSON.stringify(res))))\r\n      .then((res) => res)\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  logout() {\r\n    try {\r\n      localStorage.clear();\r\n      history.push(\"/\");\r\n    } catch (error) {}\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const target = event.target;\r\n    const type = target.type;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    if (type === \"file\") {\r\n      this.setState({ [name]: event.target.files });\r\n    } else {\r\n      this.setState({\r\n        [name]: value,\r\n      });\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    const rows = [...this.state.rows];\r\n    const columns = [\r\n      { field: \"id\", headerName: \"Id\", width: 100 },\r\n      { field: \"nome\", headerName: \"Nome\", width: 130 },\r\n      { field: \"cpf\", headerName: \"CPF\", width: 130 },\r\n      { field: \"endereco\", headerName: \"Endereço\", width: 250 },\r\n      { field: \"paymentmethod\", headerName: \"Pagamento\", width: 150 },\r\n      { field: \"shippingmethod\", headerName: \"Entrega\", width: 120 },\r\n      { field: \"shippingtax\", headerName: \"Taxa\" },\r\n      { field: \"total\", headerName: \"Total\" },\r\n      { field: \"cartstatus\", headerName: \"Status\" },\r\n      {\r\n        field: \"\",\r\n        headerName: \"Ação\",\r\n        sortable: false,\r\n        width: 100,\r\n        disableClickEventBubbling: true,\r\n        renderCell: (params) => {\r\n          return (\r\n            <Button className={\"text-sm\"} variant=\"contained\" color=\"primary\" onClick={() => this.openModal(params.id)}>\r\n              Enviar\r\n            </Button>\r\n          );\r\n        },\r\n      }];\r\n\r\n    return (\r\n      <DashboardLoja>\r\n          <span className={\"font-sans text-2xl font-bold p-6\"}>Pedidos</span>\r\n          <div className={\"flex pt-7 flex-col w-11/12 p-1\"}>    \r\n               \r\n           <div style={{ width: \"100%\", height: 460}}>\r\n              <DataGrid\r\n                rows={rows}\r\n                columns={columns}\r\n                rowHeight={30}\r\n                disableColumnMenu\r\n                pageSize={10}\r\n                checkboxSelection\r\n              />\r\n            </div>\r\n            <div className={\"mt-5 z20\"}>\r\n              {this.state.countawait >= 1 ?\r\n              <Alert variant=\"filled\" severity=\"error\">\r\n                <AlertTitle>Pedidos aguardando</AlertTitle>\r\n                Existem um total de {this.state.countawait} pedidos <strong>aguardando envio!</strong>\r\n              </Alert> : \r\n            <Alert variant=\"filled\" severity=\"success\">\r\n                <AlertTitle>Tudo certo</AlertTitle>\r\n                No Momento não existem pedidos para serem <strong>enviados!</strong>\r\n            </Alert>\r\n        }\r\n        </div>\r\n        <div className={\"mt-5 z20\"}>\r\n         {this.state.countroute >= 1 ?\r\n              <Alert variant=\"filled\" severity=\"warning\">\r\n                <AlertTitle>Pedidos aguardando</AlertTitle>\r\n                Existem um total de {this.state.countroute} pedidos <strong>em rota de Entrega!</strong>\r\n              </Alert> : \r\n            <Alert variant=\"filled\" severity=\"success\">\r\n                <AlertTitle>Tudo certo</AlertTitle>\r\n                No Momento não existem pedidos para sendo <strong>enviados!</strong>\r\n            </Alert>\r\n        }\r\n        </div>\r\n              \r\n          </div>\r\n        <div>\r\n          <Dialog\r\n            open={this.state.isModalOpen}\r\n            onClose={this.closeModal}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"alert-dialog-title\">\r\n              {\"PEDIDO Nº: \"+this.state._id}\r\n            </DialogTitle>\r\n            <DialogContent>\r\n              <DialogContentText id=\"alert-dialog-description\">\r\n                {/**inicio */}\r\n                {this.state.cartdetail.map((item) => {\r\n                  const prodarray = []\r\n                  for(var i=0; i<item.produtos.length;i++){\r\n                    prodarray.push(item.produtos[i])\r\n                  }\r\n                  let disabledvar = false\r\n                  if(item.cartstatus === 'delivered'){\r\n                    disabledvar = true;\r\n                  }\r\n                  return (\r\n                    <div>\r\n                      <Label>Dados do Cliente</Label>\r\n                      <div\r\n                        style={{\r\n                          borderWidth: \"1px\",\r\n                          display: \"flex\",\r\n                          flexDirection: \"column\",\r\n                          alignItems: \"stretch\",\r\n                        }}\r\n                      >\r\n                        <div style={{ padding: 5 }}>\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"70%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Nome\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.dadoscliente.nome}\r\n                          />\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"30%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"CPF\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.dadoscliente.cpf}\r\n                          />\r\n                        </div>\r\n                        <div style={{ padding: 5 }}>\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"50%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Telefone\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.dadoscliente.telefone}\r\n                          />\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"50%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Email\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.dadoscliente.email}\r\n                          />\r\n                        </div>\r\n                        <Label>Endereço: </Label>\r\n                        <div style={{ padding: 5 }}>\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"60%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Logradouro\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.deliveryadress.logradouro}\r\n                          />\r\n\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"20%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Numero\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.deliveryadress.numero}\r\n                          />\r\n\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"20%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Bairro\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.deliveryadress.bairro}\r\n                          />\r\n                        </div>\r\n                        <div style={{ padding: 5 }}>\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"40%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Cidade\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.deliveryadress.cidade}\r\n                          />\r\n\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"30%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Estado\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.deliveryadress.estado}\r\n                          />\r\n\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"30%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"cep\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.deliveryadress.cep}\r\n                          />\r\n                        </div>\r\n                        <div style={{ padding: 5 }}>\r\n                          <TextField\r\n                            id=\"outlined-basic\"\r\n                            style={{ width: \"100%\", fontSize: 12, padding: 5 }}\r\n                            size=\"small\"\r\n                            label=\"Referencia\"\r\n                            variant=\"outlined\"\r\n                            InputProps={{\r\n                              readOnly: true,\r\n                            }}\r\n                            value={item.deliveryadress.referencia}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <table\r\n                        style={{\r\n                          alignItems: \"center\",\r\n                          justifyContent: \"center\",\r\n                          width: \"100%\",\r\n                        }}\r\n                      >\r\n                        <thead\r\n                          style={{\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                          }}\r\n                        >\r\n                          <tr>\r\n                            <th\r\n                              style={{\r\n                                alignItems: \"center\",\r\n                                textAlign: \"center\",\r\n                                justifyContent: \"center\",\r\n                                width: \"auto\",\r\n                                padding: 3,\r\n                              }}\r\n                            >\r\n                              SKU\r\n                            </th>\r\n                            <th\r\n                              style={{\r\n                                alignItems: \"center\",\r\n                                textAlign: \"center\",\r\n                                justifyContent: \"center\",\r\n                                width: \"auto\",\r\n                                padding: 3,\r\n                              }}\r\n                            >\r\n                              Produto\r\n                            </th>\r\n                            <th\r\n                              style={{\r\n                                alignItems: \"center\",\r\n                                textAlign: \"center\",\r\n                                justifyContent: \"center\",\r\n                                width: \"auto\",\r\n                                padding: 3,\r\n                              }}\r\n                            >\r\n                              Categoria\r\n                            </th>\r\n                            <th\r\n                              style={{\r\n                                alignItems: \"center\",\r\n                                textAlign: \"center\",\r\n                                justifyContent: \"center\",\r\n                                width: \"auto\",\r\n                                padding: 3,\r\n                              }}\r\n                            >\r\n                              Preço unitario\r\n                            </th>\r\n                            <th\r\n                              style={{\r\n                                alignItems: \"center\",\r\n                                textAlign: \"center\",\r\n                                justifyContent: \"center\",\r\n                                width: \"auto\",\r\n                                padding: 3,\r\n                              }}\r\n                            >\r\n                              Quantidade\r\n                            </th>\r\n                          </tr>\r\n                        </thead>\r\n                        {prodarray.map((prod) => {\r\n                          return (\r\n                            <tbody\r\n                              style={{\r\n                                height: 100,\r\n                                overflowY: \"auto\",\r\n                                padding: 5,\r\n                              }}\r\n                            >\r\n                              <tr>\r\n                                <td\r\n                                  style={{\r\n                                    alignItems: \"center\",\r\n                                    textAlign: \"center\",\r\n                                    justifyContent: \"center\",\r\n                                    fontSize: 10,\r\n                                    borderWidth: 1,\r\n                                  }}\r\n                                >\r\n                                  {prod.produtoid}\r\n                                </td>\r\n                                <td\r\n                                  style={{\r\n                                    alignItems: \"center\",\r\n                                    textAlign: \"center\",\r\n                                    justifyContent: \"center\",\r\n                                    fontSize: 15,\r\n                                    borderWidth: 1,\r\n                                  }}\r\n                                >\r\n                                  {prod.produto}\r\n                                </td>\r\n                                <td\r\n                                  style={{\r\n                                    alignItems: \"center\",\r\n                                    textAlign: \"center\",\r\n                                    justifyContent: \"center\",\r\n                                    fontSize: 15,\r\n                                    borderWidth: 1,\r\n                                  }}\r\n                                >\r\n                                  {prod.categoria}\r\n                                </td>\r\n                                <td\r\n                                  style={{\r\n                                    alignItems: \"center\",\r\n                                    textAlign: \"center\",\r\n                                    justifyContent: \"center\",\r\n                                    fontSize: 15,\r\n                                    borderWidth: 1,\r\n                                  }}\r\n                                >\r\n                                  {prod.unitPrice}\r\n                                </td>\r\n                                <td\r\n                                  style={{\r\n                                    alignItems: \"center\",\r\n                                    textAlign: \"center\",\r\n                                    justifyContent: \"center\",\r\n                                    fontSize: 15,\r\n                                    borderWidth: 1,\r\n                                  }}\r\n                                >\r\n                                  {prod.qty}\r\n                                </td>\r\n                              </tr>\r\n                            </tbody>\r\n                          );\r\n                        })}\r\n                      </table>\r\n                      <Label>Dados do pagamento</Label>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          flexDirection: \"row\",\r\n                          alignItems: \"flex-start\",\r\n                          justifyContent: \"flex-start\",\r\n                        }}\r\n                      >\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            flexDirection: \"column\",\r\n                            padding: 5,\r\n                            alignItems: \"flex-start\",\r\n                            justifyContent: \"space-between\",\r\n                          }}\r\n                        >\r\n                          <span style={{ fontSize: 15, fontStyle: \"italic\" }}>\r\n                            Forma de pagamento:{\" \"}\r\n                          </span>\r\n                          <h6 style={{ fontSize: 16, fontStyle: \"normal\" }}>\r\n                            {item.paymentmethod}\r\n                          </h6>\r\n                          <br />\r\n                        </div>\r\n\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            flexDirection: \"column\",\r\n                            padding: 5,\r\n                            alignItems: \"flex-start\",\r\n                            justifyContent: \"space-between\",\r\n                          }}\r\n                        >\r\n                          <span style={{ fontSize: 15, fontStyle: \"italic\" }}>\r\n                            Subtotal:{\" \"}\r\n                          </span>{\" \"}\r\n                          <h6 style={{ fontSize: 16, fontStyle: \"normal\" }}>\r\n                            R${item.subTotal}\r\n                          </h6>\r\n                          <br />\r\n                          <span style={{ fontSize: 15, fontStyle: \"italic\" }}>\r\n                            Taxa de entrega:{\" \"}\r\n                          </span>{\" \"}\r\n                          <h6 style={{ fontSize: 16, fontStyle: \"normal\" }}>\r\n                            R${item.shippingprice}\r\n                          </h6>\r\n                          <br />\r\n                          <span style={{ fontSize: 15, fontStyle: \"italic\" }}>\r\n                            Valor total:{\" \"}\r\n                          </span>{\" \"}\r\n                          <h6 style={{ fontSize: 16, fontStyle: \"normal\" }}>\r\n                            R${item.total}\r\n                          </h6>\r\n                          <br />\r\n                        </div>\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            flexDirection: \"column\",\r\n                            padding: 5,\r\n                            alignItems: \"flex-start\",\r\n                            justifyContent: \"space-between\",\r\n                          }}\r\n                        >\r\n                          <span style={{ fontSize: 15, fontStyle: \"italic\" }}>\r\n                            Troco:{\" \"}\r\n                          </span>{\" \"}\r\n                          <h6 style={{ fontSize: 16, fontStyle: \"normal\" }}>\r\n                            R${item.change}\r\n                          </h6>\r\n                          <br />\r\n                        </div>\r\n                      </div>\r\n                      <div>\r\n                        <h4>Status atual: </h4> <h6>{item.cartstatus}</h6>\r\n                      </div>\r\n                      <Select\r\n                        labelId=\"demo-simple-select-label\"\r\n                        id=\"demo-simple-select\"\r\n                        value={this.state.cartstatus}\r\n                        onChange={this.handleStatus}\r\n                        disabled={disabledvar}\r\n                      >\r\n                        <MenuItem value={\"await\"}>Em separação</MenuItem>\r\n                        <MenuItem value={\"onroute\"}>Enviado</MenuItem>\r\n                        <MenuItem value={\"delivered\"}>Recebido</MenuItem>\r\n                      </Select>\r\n                      <button\r\n                        style={{\r\n                          alignItems: \"center\",\r\n                          textAlign: \"center\",\r\n                          justifyContent: \"center\",\r\n                          fontSize: 10,\r\n                        }}\r\n                        onClick={this.updatestatus}\r\n                      >\r\n                        <Icon name=\"x\" />\r\n                        Despachar pedido\r\n                      </button>\r\n                    </div>\r\n                  );\r\n                })}\r\n                {/**Fim */}\r\n              </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={this.closeModal} color=\"primary\">\r\n                Disagree\r\n              </Button>\r\n              <Button onClick={this.closeModal} color=\"primary\" autoFocus>\r\n                Agree\r\n              </Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n\r\n          {/*<Modal\r\n            isOpen={this.state.isModalOpen}\r\n            onRequestClose={this.closeModal}\r\n            style={this.state.customStyles}\r\n          >\r\n            <div>\r\n            {this.state.orderstoprocess.map((item) => {\r\n                  return (\r\n                  <div>\r\n                    <Title>\r\n                    PEDIDO Nº: {item._id}\r\n                    </Title>\r\n                    <Label>Dados do Cliente</Label>\r\n                    <div style={{borderWidth:'1px' ,display:'flex',flexDirection:'column' ,alignItems:'stretch'}}>\r\n                       \r\n                       <div style={{padding:5}}>\r\n                        <TextField id=\"outlined-basic\"\r\n                         style={{ width:'70%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Nome\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.nome}/>\r\n                        <TextField id=\"outlined-basic\"\r\n                         style={{ width:'30%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"CPF\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.cpf}/>\r\n                            </div>\r\n                      <div style={{padding:5}}>\r\n                      <TextField id=\"outlined-basic\"\r\n                         style={{ width:'50%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Telefone\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.cpf}/>\r\n                        <TextField id=\"outlined-basic\"\r\n                         style={{ width:'50%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Email\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.cpf}/>\r\n                     </div>\r\n                     <Label>Endereço: </Label>\r\n                     <div style={{padding:5}}> \r\n                       <TextField id=\"outlined-basic\"\r\n                         style={{ width:'60%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Logradouro\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.deliveryadress.logradouro}/>\r\n\r\n                      <TextField id=\"outlined-basic\"\r\n                         style={{ width:'20%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Numero\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.deliveryadress.numero}/>\r\n\r\n                        <TextField id=\"outlined-basic\"\r\n                         style={{ width:'20%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Bairro\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.deliveryadress.bairro}/> \r\n                    </div>\r\n                    <div style={{padding:5}}>\r\n\r\n                      <TextField id=\"outlined-basic\"\r\n                         style={{ width:'40%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Cidade\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.deliveryadress.cidade}/>\r\n\r\n                      <TextField id=\"outlined-basic\"\r\n                         style={{ width:'30%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Estado\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.deliveryadress.estado}/>\r\n\r\n                        <TextField id=\"outlined-basic\"\r\n                         style={{ width:'30%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"cep\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.deliveryadress.cep}/>\r\n                        </div>\r\n                      <div style={{padding:5}}>\r\n                        <TextField id=\"outlined-basic\"\r\n                         style={{ width:'100%', fontSize:12, padding:5}}\r\n                         size=\"small\"\r\n                        label=\"Referencia\"\r\n                        variant=\"outlined\"\r\n                        InputProps={{\r\n                          readOnly: true,\r\n                        }}\r\n                        value={item.deliveryadress.referencia}/>\r\n                        </div>\r\n                    \r\n                    </div>\r\n                  <table style={{alignItems:'center', justifyContent:'center', width:'100%'}} > \r\n                  <thead style={{alignItems:'center', justifyContent:'center'}}>\r\n                    <tr>\r\n                      <th style={{alignItems:'center', textAlign:'center', justifyContent:'center', width:\"auto\", padding:3}}>SKU</th>\r\n                      <th style={{alignItems:'center', textAlign:'center', justifyContent:'center', width:\"auto\", padding:3}}>Produto</th>\r\n                      <th style={{alignItems:'center', textAlign:'center', justifyContent:'center', width:\"auto\", padding:3}}>Categoria</th>\r\n                      <th style={{alignItems:'center', textAlign:'center', justifyContent:'center', width:\"auto\", padding:3}}>Preço unitario</th>\r\n                      <th style={{alignItems:'center', textAlign:'center', justifyContent:'center', width:\"auto\", padding:3}}>Quantidade</th>\r\n                    </tr>\r\n                  </thead>\r\n                  {this.state.cartitens.map((prod)=>{\r\n                      return (\r\n                  <tbody style={{backgroundColor:'#53aaa8', height:100, overflowY: 'auto', padding: 5}}>\r\n                    <tr>\r\n                    <td style={{alignItems:'center', textAlign:'center', justifyContent:'center', fontSize:10, borderWidth:1}}>{prod.produtoid}</td>\r\n                    <td style={{alignItems:'center', textAlign:'center', justifyContent:'center', fontSize:10, borderWidth:1}}>{prod.produto}</td>\r\n                    <td style={{alignItems:'center', textAlign:'center', justifyContent:'center', fontSize:10, borderWidth:1}}>{prod.categoria}</td>\r\n                    <td style={{alignItems:'center', textAlign:'center', justifyContent:'center', fontSize:10, borderWidth:1}}>{prod.unitPrice}</td>\r\n                    <td style={{alignItems:'center', textAlign:'center', justifyContent:'center', fontSize:10, borderWidth:1}}>{prod.qty}</td>\r\n                    </tr>\r\n                  </tbody> \r\n                    );\r\n                })}                    \r\n                  </table>\r\n                  <Label>Dados do pagamento</Label>\r\n                    <div style={{display:'flex',flexDirection:'row' ,alignItems:'flex-start',\r\n                     justifyContent:'flex-start'}}>\r\n                      \r\n                      <div style={{display:'flex',flexDirection:'column',padding: 5,alignItems:'flex-start',\r\n                     justifyContent:'space-between'}}>\r\n                      <span style={{fontSize: 15, fontStyle: 'italic'}}>Forma de pagamento: </span><h6 style={{fontSize: 16, fontStyle: 'normal'}}>{item.paymentmethod}</h6>\r\n                      <br />\r\n                      </div>\r\n                      \r\n                    <div style={{display:'flex',flexDirection:'column',padding: 5,alignItems:'flex-start',\r\n                     justifyContent:'space-between'}}>\r\n                    <span style={{fontSize: 15, fontStyle: 'italic'}}>Subtotal: </span> <h6 style={{fontSize: 16, fontStyle: 'normal'}}>R${item.subTotal}</h6><br />\r\n                    <span style={{fontSize: 15, fontStyle: 'italic'}}>Taxa de entrega: </span> <h6 style={{fontSize: 16, fontStyle: 'normal'}}>R${item.shippingprice}</h6><br />\r\n                    <span style={{fontSize: 15, fontStyle: 'italic'}}>Valor total: </span> <h6 style={{fontSize: 16, fontStyle: 'normal'}}>R${item.total}</h6><br />\r\n                    </div>\r\n                    <div style={{display:'flex',flexDirection:'column',padding: 5,alignItems:'flex-start',\r\n                     justifyContent:'space-between'}}>\r\n                      <span style={{fontSize: 15, fontStyle: 'italic'}}>Troco: </span> <h6 style={{fontSize: 16, fontStyle: 'normal'}}>R${item.change}</h6>\r\n                      <br />\r\n                      </div>\r\n                    </div>\r\n                    <Select\r\n                      labelId=\"demo-simple-select-label\"\r\n                      id=\"demo-simple-select\"\r\n                      value={this.state.cartstatus}\r\n                      onChange={this.handleStatus}\r\n                    >\r\n                      <MenuItem value={'await'}>Em separação</MenuItem>\r\n                      <MenuItem value={'onroute'}>Enviado</MenuItem>\r\n                      <MenuItem value={'delivered'}>Recebido</MenuItem>\r\n        </Select>\r\n                  <button style={{alignItems:'center', textAlign:'center', justifyContent:'center', fontSize:10}}\r\n                    onClick={this.updatestatus}>\r\n                      <Icon name=\"x\" />\r\n                      Despachar pedido\r\n                    </button>\r\n                  </div>   \r\n                  );\r\n                })}\r\n                  \r\n            </div>\r\n            \r\n            <button onClick={this.closeModal}>close</button>\r\n              </Modal>*/}\r\n        </div>\r\n      </DashboardLoja>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CadastroCat;\r\n","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\categoria.js",["196","197","198","199","200"],"import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport {\r\n  Section,\r\n  Input,\r\n  Button,\r\n  Title,\r\n  Label,\r\n  EditBt,\r\n  DeleteBt,\r\n} from \"./style\";\r\nimport history from \"../../history\";\r\nimport { DashboardLoja } from \"../../components/Layout\";\r\nimport Icon from \"awesome-react-icons\";\r\nimport {\r\n  DataGrid,\r\n  GridColDef,\r\n  GridApi,\r\n  GridCellValue,\r\n  getThemePaletteMode,\r\n} from \"@material-ui/data-grid\";\r\n\r\nclass CadastroCat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      token: localStorage.getItem(\"@token\"),\r\n      message: \"\",\r\n      messageloja: \"\",\r\n      ischecked: false,\r\n\r\n      _id: \"\",\r\n      lojaid: localStorage.getItem(\"@lojaid\"),\r\n      nome: \"\",\r\n      categorialist: [],\r\n      rows:[],\r\n      \r\n\r\n      nomeedit: \"\",\r\n\r\n      lojadata: [],\r\n      prodarray: [],\r\n      isModalOpen: false,\r\n      isModalDelOpen: false,\r\n      customStyles: {\r\n        content: {\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          right: \"auto\",\r\n          bottom: \"auto\",\r\n          marginRight: \"-50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n        }}\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n\r\n    // this.fileInput = React.createRef();\r\n    //this.handleUploadImage = this.handleUploadImage.bind(this);\r\n  }\r\n\r\n  componentDidMount = async() =>{\r\n     await  fetch(\"https://api-shopycash1.herokuapp.com/indexstoreby/\"\r\n      +localStorage.getItem(\"@lojaid\"),{                                                                          \r\n      })\r\n        .then((res) => res.json())\r\n        .then(function(result){\r\n          localStorage.setItem(\"@loja\", result.nomefantasia)\r\n          localStorage.setItem(\"@shopping\", result.shopping)\r\n        })\r\n        .catch((error) => console.log(error))\r\n        .finally(() => this.setState({ isLoaded: false }), []);\r\n\r\n        await fetch(\"https://api-shopycash1.herokuapp.com/indexcategory/\"+localStorage.getItem(\"@lojaid\"))\r\n          .then((res) => res.json())\r\n          .then((result) => this.setState({ categorialist: result.data }))\r\n          .catch((error) => console.log(error))\r\n          .finally(() => this.setState({ isLoaded: false }), []);\r\n\r\n          console.log(this.state.categorialist.length)\r\n\r\n  }\r\n  openModal = async (\r\n    id,\r\n    nome,\r\n  ) => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      _id: id,\r\n      nomeedit: nome,\r\n\r\n    });\r\n  };\r\n  closeModal() {\r\n    this.setState({ isModalOpen: false });\r\n  }\r\n\r\n  deletecategoria = async (item) => {\r\n    const _id = item;\r\n    console.log(_id, \"new id\");\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/store/deletecat/\" + _id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n    })\r\n      .then((res) =>\r\n        res.json(localStorage.setItem(\"@delmessage\", JSON.stringify(res)))\r\n      )\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }));\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  cadastrarcategoria = async () => {\r\n    const payload = JSON.stringify({\r\n      loja_id: this.state.lojaid,\r\n      nome: this.state.nome,\r\n    });\r\n\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/insertnew/category/\" +\r\n      localStorage.getItem(\"@lojaid\"),\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: payload,\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@prodcad\", res))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@error\", error);\r\n        console.log(error);\r\n      });\r\n    //this.cadastrausuario();\r\n\r\n    window.location.reload();\r\n  \r\n  };\r\n\r\n  updatecategoria = async () => {\r\n    const catid = this.state._id;\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/store/updatecat/\" + catid,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: JSON.stringify({\r\n          nome: this.state.nomeedit,\r\n        }),\r\n      }\r\n    )\r\n      .then((res) => res.json(console.log(JSON.stringify(res))))\r\n      .then((res) => localStorage.setItem(\"@update\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  logout() {\r\n    try {\r\n      localStorage.clear();\r\n      history.push(\"/\");\r\n    } catch (error) { }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const target = event.target;\r\n    const type = target.type;\r\n    const value = target.value;\r\n    const name = target.name;\r\n\r\n    if (type === \"file\") {\r\n      this.setState({ [name]: event.target.files });\r\n    } else {\r\n      this.setState({\r\n        [name]: value,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <DashboardLoja>\r\n        <Section>\r\n          <Title>\r\n            Cadastro de Categorias - {localStorage.getItem(\"@loja\")} - {localStorage.getItem(\"@shopping\")}\r\n          </Title>\r\n          <span>\r\n            Usuario Logado: {localStorage.getItem(\"@nome\")} - {localStorage.getItem(\"@email\")}\r\n          </span>\r\n          <Input\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome\"\r\n            required={true}\r\n            name=\"nome\"\r\n            value={this.state.nome}\r\n            onChange={this.handleChange}\r\n          />\r\n          \r\n          <Button value=\"Submit\" onClick={this.cadastrarcategoria}>\r\n              Cadastrar\r\n            </Button>\r\n         \r\n        </Section>\r\n        <Section>\r\n          <Label>Categorias</Label>\r\n          <table style={{ width:'100%'}} > \r\n                <thead style={{}}>\r\n              <tr>\r\n                <th>NOME</th>\r\n                <th>Ações</th>\r\n              </tr>\r\n            </thead>\r\n          </table>\r\n          {this.state.categorialist.map((item) => {\r\n            return (\r\n              <tbody style={{height:100, overflowY: 'auto', padding: 5,flexDirection:'row'}}>\r\n                <tr style={{height:100, overflowY: 'auto', padding: 5}}>\r\n                  <tb>\r\n                    {item.nome}\r\n                  </tb>\r\n                  <tb>\r\n                  <EditBt\r\n                    onClick={() =>\r\n                      this.openModal(\r\n                        item._id,\r\n                        item.nome\r\n                      )\r\n                    }\r\n                  >\r\n                    <Icon name=\"edit-pencil-simple\" />\r\n                    EDITAR\r\n                  </EditBt>\r\n\r\n                  <DeleteBt onClick={() => this.deletecategoria(item._id)}>\r\n                    <Icon name=\"x\" />\r\n                    EXCLUIR\r\n                  </DeleteBt>\r\n\r\n                  </tb>\r\n                </tr>\r\n              </tbody>\r\n            );\r\n          })}\r\n        </Section>\r\n        <div>\r\n          <Modal\r\n            isOpen={this.state.isModalOpen}\r\n            onRequestClose={this.closeModal}\r\n            style={this.state.customStyles}\r\n          >\r\n            <div>\r\n              {this.state.nome}\r\n              <Input\r\n                style={{ width: \"100%\" }}\r\n                type=\"text\"\r\n                placeholder=\"Nome da categoria\"\r\n                required={true}\r\n                name=\"nomeedit\"\r\n                value={this.state.nomeedit}\r\n                onChange={this.handleChange}\r\n              />\r\n              <hr />\r\n              <Button value=\"Submit\" onClick={this.updatecategoria}>\r\n                Alterar\r\n              </Button>\r\n            </div>\r\n            <button onClick={this.closeModal}>close</button>\r\n          </Modal>\r\n        </div>\r\n      </DashboardLoja>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CadastroCat;","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\produtos.js",["201","202","203"],"import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport {\r\n  Section,\r\n  Input,\r\n  Button,\r\n  Title,\r\n  Label,\r\n  EditBt,\r\n  DeleteBt,\r\n  InputFile,\r\n  Img,\r\n  Tr,\r\n  Td,\r\n  Tdr,\r\n  TextArea\r\n} from \"./style\";\r\nimport history from \"../../history\";\r\nimport { DashboardLoja } from \"../../components/Layout\";\r\nimport Icon from \"awesome-react-icons\";\r\nimport noimage from \"../../imgsrc/logopad.jpg\";\r\nimport moment from 'moment';\r\n\r\nclass LjDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      token: localStorage.getItem(\"@token\"),\r\n      message: \"\",\r\n      messageloja: \"\",\r\n      ischecked: false,\r\n\r\n      _id: \"\",\r\n      lojaid: localStorage.getItem(\"@lojaid\"),\r\n      nome: \"\",\r\n      desc: \"\",\r\n      preco: 0,\r\n      loja: localStorage.getItem(\"@loja\"),\r\n      shopping: localStorage.getItem(\"@shopping\"),\r\n      shoppingid: localStorage.getItem(\"@shoppingid\"),\r\n      categoria: \"\",\r\n      categoriaid:\"\",\r\n      ativo: true,\r\n      estoque: 0,\r\n      imagembase64: null,\r\n      imagem2base64: null,\r\n\r\n      categoriaslist: [],\r\n      nomeedit: \"\",\r\n      descedit: \"\",\r\n      precoedit: 0,\r\n      categoriaedit: \"\",\r\n      categoriaidedit:\"\",\r\n      ativoedit:true,\r\n      estoqueedit:0,\r\n      imgbs64edt: null,\r\n      imgbs642edt:null,\r\n\r\n      lojadata: [],\r\n      prodarray: [],\r\n      isModalOpen: false,\r\n      isModalDelOpen: false,\r\n      customStyles: {\r\n        content: {\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          right: \"auto\",\r\n          bottom: \"auto\",\r\n          marginRight: \"-50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n        }}\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.closeDelModal = this.closeDelModal.bind(this);\r\n    this.onImageChange = this.onImageChange.bind(this);\r\n    this.onImage2Change = this.onImage2Change.bind(this);\r\n    this.onImageEdit = this.onImageEdit.bind(this);\r\n    this.onImage2Edit = this.onImage2Edit.bind(this);\r\n    this.handleChecked = this.handleChecked.bind(this);\r\n\r\n    // this.fileInput = React.createRef();\r\n    //this.handleUploadImage = this.handleUploadImage.bind(this);\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.listcategorias();\r\n    fetch(\r\n      \"https://api-shopycash1.herokuapp.com/indexproductby/\"\r\n      +localStorage.getItem(\"@lojaid\")\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ prodarray: result }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n      \r\n      fetch(\"https://api-shopycash1.herokuapp.com/indexstoreby/\"\r\n      +localStorage.getItem(\"@lojaid\"),{                                                                          \r\n      })\r\n        .then((res) => res.json())\r\n        .then(function(result){\r\n          localStorage.setItem(\"@loja\", result.nomefantasia)\r\n          localStorage.setItem(\"@shopping\", result.shopping)\r\n        })\r\n        .catch((error) => console.log(error))\r\n        .finally(() => this.setState({ isLoaded: false }), []);\r\n  }\r\n  openModal = async (\r\n    id,\r\n    nome,\r\n    desc,\r\n    preco,\r\n    estoque,\r\n    imagem,\r\n    imagem2,\r\n    categoria,\r\n    categoriaid\r\n  ) => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      _id:id,\r\n      nomeedit: nome,\r\n      descedit: desc,\r\n      precoedit: preco,\r\n      estoqueedit: estoque,\r\n      imgbs64edt: imagem,\r\n      imgbs642edt: imagem2,\r\n      categoriaedit: categoria,\r\n      categoriaidedit: categoriaid,\r\n\r\n    });\r\n  };\r\n  openModalDelete = async (item) => {\r\n    this.setState({\r\n      isModalDelOpen: true,\r\n    });\r\n    const id = item;\r\n    this.setState({ _id: id }, () => console.log(this.state._id));\r\n  };\r\n  afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n  closeModal() {\r\n    this.setState({ isModalOpen: false });\r\n  }\r\n  closeDelModal() {\r\n    this.setState({ isModalDelOpen: false });\r\n  }\r\n  deleteprod = async (item) => {\r\n    const _id = item;\r\n    const lojaid = this.state.lojaid\r\n    console.log(_id, \"new id\");\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/product/delete/\" + lojaid+\"/\"+_id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n    })\r\n      .then((res) =>\r\n        res.json(localStorage.setItem(\"@delmessage\", JSON.stringify(res)))\r\n      )\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }));\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  cadastrarproduto = async () => {\r\n    const payload = JSON.stringify({\r\n      loja_id: this.state.lojaid,\r\n      nome: this.state.nome,\r\n      desc: this.state.desc,\r\n      preco: this.state.preco,\r\n      loja: this.state.loja,\r\n      shopping: this.state.shopping,\r\n      shoppingid: this.state.shoppingid,\r\n      categoria: this.state.categoria,\r\n      categoriaid:this.state.categoriaid,\r\n      ativo: this.state.ativo,\r\n      imagem: this.state.imagembase64,\r\n      imagem2: this.state.imagem2base64,\r\n      estoque: this.state.estoque,\r\n    });\r\n\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/stores/insertprod/\" +\r\n      localStorage.getItem(\"@lojaid\"),\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: payload,\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@prodcad\", res))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@error\", error);\r\n        console.log(error);\r\n      });\r\n    //this.cadastrausuario();\r\n\r\n    window.location.reload();\r\n  \r\n  };\r\n\r\n  updateproduto = async () => {\r\n    const payload = JSON.stringify({\r\n        loja_id: this.state.lojaid,\r\n        nome: this.state.nomeedit,\r\n        desc: this.state.descedit,\r\n        preco: this.state.precoedit,\r\n        categoria: this.state.categoriaedit,\r\n        categoriaid:this.state.categoriaidedit,\r\n        ativo: this.state.ativoedit,\r\n        imagem: this.state.imgbs64edt,\r\n        imagem2: this.state.imgbs642edt,\r\n        estoque: this.state.estoqueedit\r\n    })\r\n    const lojaid = this.state.lojaid;\r\n    const prodid = this.state._id;\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/product/update/\"+lojaid+\"/\"+prodid ,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: payload\r\n      }\r\n    )\r\n      .then((res) => res.json(console.log(JSON.stringify(res))))\r\n      .then((res) => localStorage.setItem(\"@message\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  logout() {\r\n    try {\r\n      localStorage.removeItem(\"@token\");\r\n      localStorage.clear();\r\n      history.push(\"/\");\r\n    } catch (error) { }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const target = event.target;\r\n    const type = target.type;\r\n    const value = target.value;\r\n    const title= target.title;\r\n    const id = target.id;\r\n    const name = target.name;\r\n\r\n    if (type === \"file\") {\r\n      this.setState({ [name]: event.target.files });\r\n    }else if(type === \"radio\" && id === \"normalfield\"){\r\n      this.setState({categoriaid: title, categoria:value});\r\n    }else if (type === \"radio\" && id === \"editfield\" ) {\r\n      this.setState({categoriaidedit: title, categoriaedit:value});\r\n    }\r\n    else {\r\n      this.setState({\r\n        [name]: value,\r\n      });\r\n    }\r\n\r\n      console.log(event)\r\n      console.log(this.state.categoria);\r\n      console.log(this.state.categoriaid);\r\n  };\r\n\r\n  onImageChange(event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = \"\";\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl);\r\n        this.setState({ imagembase64: baseurl });\r\n        //this._handleReaderLogo.bind(this)};\r\n      };\r\n    }\r\n  }\r\n\r\n  onImage2Change(event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = \"\";\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl);\r\n        this.setState({ imagem2base64: baseurl });\r\n      };\r\n    }\r\n  }\r\n\r\n  onImageEdit (event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({imgbs64edt:baseurl})\r\n      }\r\n    }    \r\n  };\r\n\r\n  onImage2Edit (event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({imgbs642edt:baseurl})\r\n      }\r\n    }  \r\n  };\r\n\r\n\r\n\r\n  listcategorias= async ()=> {\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/indexcategory/\"+localStorage.getItem(\"@lojaid\"))\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ categoriaslist: result.data }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n      console.log(this.state.categoriaslist)\r\n  }\r\n\r\n  handleChecked(event) {\r\n    console.log(event);\r\n    let newcheck = \"\";\r\n    if (this.state.categoria.length <= 0 && event.target.checked) {\r\n      newcheck = event.target.value;\r\n      this.setState({ categoria: [newcheck] });\r\n    } else if (this.state.categoria.length > 0 && event.target.checked) {\r\n      newcheck = event.target.value;\r\n      this.setState({ categoria: [...this.state.categoria, newcheck] });\r\n    }\r\n    let array = [...this.state.categoria]\r\n    let index = array.indexOf(event.target.value)\r\n    if(event.target.checked === false){\r\n      array.splice(index,1)\r\n      this.setState({categoria:array})\r\n    }\r\n  }\r\n\r\n  /*-----------------------usuario loja-------------------*/\r\n  cadastrausuario = async () => {\r\n    const payload = JSON.stringify({\r\n      nome: this.state.nomeuser,\r\n      email: this.state.emailuser,\r\n      pass: this.state.passuser,\r\n      userRole: this.state.userrole,\r\n      shoppingslug: this.state.shoppingslug,\r\n      lojaslug: this.state.lojaslug,\r\n      shoppingid: this.state.shoppingid,\r\n      lojaid: this.state.lojaid,\r\n    });\r\n\r\n    console.log(payload);\r\n\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/api/loja/cadastro\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n      body: payload,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@messageuser\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  /**\r\n * {this.state.ljdata.map((item, index)=>{\r\n          return(\r\n          <Title key={item._id}>\r\n            Cadastro de Produtos - {item.nomefantasia}\r\n          </Title>\r\n          )\r\n        })}\r\n */\r\n\r\n\r\n  render() {\r\n    const { prodarray } = this.state;\r\n    return (\r\n      <DashboardLoja>\r\n        <Section>\r\n          <Title>\r\n            Cadastro de Produtos - {localStorage.getItem(\"@loja\")} - {localStorage.getItem(\"@shopping\")}\r\n          </Title>\r\n          <span>\r\n            Usuario Logado: {localStorage.getItem(\"@nome\")} -{\" \"}\r\n            {localStorage.getItem(\"@email\")}\r\n          </span>\r\n          <Input\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome\"\r\n            required={true}\r\n            name=\"nome\"\r\n            value={this.state.nome}\r\n            onChange={this.handleChange}\r\n          />\r\n          \r\n          <Input\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Descrição\"\r\n            required={true}\r\n            name=\"desc\"\r\n            value={this.state.desc}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Label>Preço</Label>\r\n          <Input\r\n            value={this.state.preco}\r\n            style={{ width: \"10%\" }}\r\n            type=\"number\"\r\n            placeholder=\"Preço\"\r\n            name=\"preco\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Label>Estoque</Label>\r\n          <Input\r\n            value={this.state.estoque}\r\n            style={{ width: \"10%\" }}\r\n            type=\"number\"\r\n            name=\"estoque\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <div\r\n            style={{\r\n              padding: 0,\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"right\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                padding: 10,\r\n              }}\r\n            >\r\n              <Label style={{ padding: 10, display: \"block\" }} htmlFor=\"logo\">\r\n                Imagem Principal\r\n              </Label>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  flexDirection: \"column\",\r\n                }}\r\n              >\r\n                <InputFile\r\n                  style={{ width: \"100%\" }}\r\n                  Label=\"Imagem Principal\"\r\n                  type=\"file\"\r\n                  name=\"imagem\"\r\n                  id=\"imagem\"\r\n                  accept=\".jpeg, .png, .jpg .gif\"\r\n                  required={true}\r\n                  onChange={this.onImageChange}\r\n                />\r\n                <img\r\n                  alt=\"imagem1\"\r\n                  src={\r\n                    this.state.imagembase64 == null\r\n                      ? noimage\r\n                      : this.state.imagembase64\r\n                  }\r\n                  style={{\r\n                    borderWidht: 1,\r\n                    paddingTop: 10,\r\n                    width: 250,\r\n                    height: 250,\r\n                    overflow: \"hidden\",\r\n                    borderRadius: \"50%\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div style={{ flexDirection: \"column\", padding: 10 }}>\r\n              <Label style={{ padding: 10, display: \"block\" }} htmlFor=\"capa\">\r\n                Imagem Secundaria\r\n              </Label>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  flexDirection: \"column\",\r\n                }}\r\n              >\r\n                <InputFile\r\n                  style={{ width: \"100%\" }}\r\n                  label=\"Imagem Secundaria\"\r\n                  type=\"file\"\r\n                  name=\"imagem2\"\r\n                  id=\"imagem2\"\r\n                  accept=\".jpeg, .png, .jpg\"\r\n                  required={true}\r\n                  onChange={this.onImage2Change}\r\n                />\r\n                <img\r\n                  alt=\"imagem2\"\r\n                  src={\r\n                    this.state.imagem2base64 == null\r\n                      ? noimage\r\n                      : this.state.imagem2base64\r\n                  }\r\n                  style={{\r\n                    borderWidht: 1,\r\n                    height: 250,\r\n                    overflow: \"hidden\",\r\n                    paddingTop: 10,\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-around\",\r\n              padding: 10,\r\n            }}\r\n          >\r\n            <Label>Categorias</Label>\r\n              {this.state.categoriaslist.map((cat) => {\r\n                return (\r\n                  <div style={{fontFamily:'Helvetica',\r\n                  justifyContent:'right',\r\n                  alignItems:'center',\r\n                  padding: 10, display:'flex', flexDirection: \"row\"}}>\r\n                  <Input\r\n                  id=\"normalfield\"\r\n                  title={cat._id}\r\n                  type=\"radio\"\r\n                  checked={this.state.categoria === cat.nome}\r\n                  onChange={this.handleChange}\r\n                  value={cat.nome}/>\r\n                  <label>{cat.nome}</label>\r\n                  </div>\r\n                );\r\n              })}\r\n            <br />\r\n          </div>\r\n         \r\n          <div>\r\n            <Button value=\"Submit\" onClick={this.cadastrarproduto}>\r\n              Cadastrar\r\n            </Button>\r\n          </div>\r\n        </Section>\r\n        <Section>\r\n          <Label>Produtos</Label>\r\n              <table style={{alignItems:'center', justifyContent:'center', width:'100%'}} > \r\n                <thead style={{alignItems:'center', justifyContent:'center'}}>\r\n                  <tr>\r\n                    <th><input type=\"checkbox\" /></th>\r\n                    <th>Nome</th>\r\n                    <th>Descrição</th>\r\n                    <th>Preço</th>\r\n                    <th>Estoque</th>\r\n                    <th>SKU</th>\r\n                    <th>Categoria</th>\r\n                  </tr>\r\n                </thead>\r\n                {prodarray.map((item) => {\r\n                     const isEmpty = 'rgba(255, 0, 0, 0.2)'\r\n                     const isFull = 'rgba(19, 138, 0, 0.2)'\r\n                     const storageColorCode = item.estoque > 0 ? isFull : isEmpty\r\n                      return (\r\n                <tbody style={{backgroundColor:storageColorCode, height:100, overflowY: 'auto', padding: 5}}>\r\n                  <Tr>\r\n                    <Td style={{padding: 15}}><input type=\"checkbox\"/></Td>\r\n                    <Tdr>\r\n                      {item.nome.slice(0,10)}...\r\n                      </Tdr>\r\n                    <Tdr>{item.desc.slice(0,60)}...</Tdr>\r\n                    <Td style={{alignItems:'center', justifyContent:'center'}}>R${item.preco.toFixed(2)}</Td>\r\n                    <Td style={{ alignItems:'center', justifyContent:'center'}}>{item.estoque}</Td>\r\n                    <Td>{item._id}</Td>\r\n                    <Td>{item.categoria}</Td>\r\n                    <Td style={{display:'flex', justifyContent:'space-between'}}><EditBt\r\n                    onClick={() =>\r\n                      this.openModal(\r\n                        item._id,\r\n                        item.nome,\r\n                        item.desc,\r\n                        item.preco,\r\n                        item.estoque,\r\n                        item.imagem,\r\n                        item.imagem2,\r\n                        item.categoria,\r\n                        item.categoriaid\r\n                      )\r\n                    }\r\n                  >\r\n                    <Icon name=\"edit-pencil-simple\" />\r\n                    EDITAR\r\n                  </EditBt>\r\n                  <DeleteBt onClick={() => this.deleteprod(item._id)}>\r\n                    <Icon name=\"x\" />\r\n                    EXCLUIR\r\n                  </DeleteBt>\r\n                  </Td>\r\n                  </Tr>\r\n                </tbody>\r\n                     )})}\r\n                </table> \r\n                \r\n        </Section>\r\n        <div>\r\n          <Modal\r\n            isOpen={this.state.isModalOpen}\r\n            onAfterOpen={this.afterOpenModal}\r\n            onRequestClose={this.closeModal}\r\n            style={this.state.customStyles}\r\n          >\r\n            <div>\r\n              Editando: \r\n            <Input\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome\"\r\n            required={true}\r\n            name=\"nomeedit\"\r\n            value={this.state.nomeedit}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Descrição\"\r\n            required={true}\r\n            name=\"descedit\"\r\n            value={this.state.descedit}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Label>Preço</Label>\r\n          <Input\r\n            value={this.state.precoedit}\r\n            style={{ width: \"10%\" }}\r\n            type=\"number\"\r\n            placeholder=\"Preço\"\r\n            name=\"precoedit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <Label>Estoque</Label>\r\n          <Input\r\n            value={this.state.estoqueedit}\r\n            style={{ width: \"10%\" }}\r\n            type=\"number\"\r\n            name=\"estoqueedit\"\r\n            required={true}\r\n            onChange={this.handleChange}\r\n          />\r\n          <div\r\n            style={{\r\n              padding: 0,\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"right\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                padding: 10,\r\n              }}\r\n            >\r\n              <Label style={{ padding: 10, display: \"block\" }} htmlFor=\"logo\">\r\n                Imagem Principal\r\n              </Label>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  flexDirection: \"column\",\r\n                }}\r\n              >\r\n                <InputFile\r\n                  style={{ width: \"100%\" }}\r\n                  Label=\"Imagem Principal\"\r\n                  type=\"file\"\r\n                  name=\"imgbs64edt\"\r\n                  id=\"imgbs64edt\"\r\n                  accept=\".jpeg, .png, .jpg .gif\"\r\n                  required={true}\r\n                  onChange={this.onImageEdit}\r\n                />\r\n                <img\r\n                  alt=\"imagem1\"\r\n                  src={\r\n                    this.state.imgbs64edt == null\r\n                      ? noimage\r\n                      : this.state.imgbs64edt\r\n                  }\r\n                  style={{\r\n                    borderWidht: 1,\r\n                    paddingTop: 10,\r\n                    width: 250,\r\n                    height: 250,\r\n                    overflow: \"hidden\",\r\n                    borderRadius: \"50%\",\r\n                    justifyContent: \"center\",\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div style={{ flexDirection: \"column\", padding: 10 }}>\r\n              <Label style={{ padding: 10, display: \"block\" }} htmlFor=\"capa\">\r\n                Imagem Secundaria\r\n              </Label>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  flexDirection: \"column\",\r\n                }}\r\n              >\r\n                <InputFile\r\n                  style={{ width: \"100%\" }}\r\n                  label=\"Imagem Secundaria\"\r\n                  type=\"file\"\r\n                  name=\"imgbs642edt\"\r\n                  id=\"imgbs642edt\"\r\n                  accept=\".jpeg, .png, .jpg\"\r\n                  required={true}\r\n                  onChange={this.onImage2Edit}\r\n                />\r\n                <img\r\n                  alt=\"imagem2\"\r\n                  src={\r\n                    this.state.imgbs642edt == null\r\n                      ? noimage\r\n                      : this.state.imgbs642edt\r\n                  }\r\n                  style={{\r\n                    borderWidht: 1,\r\n                    height: 250,\r\n                    overflow: \"hidden\",\r\n                    paddingTop: 10,\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              flexDirection: \"row\",\r\n              justifyContent: \"space-around\",\r\n              padding: 10,\r\n            }}\r\n          >\r\n            <Label>Categorias</Label>\r\n              {this.state.categoriaslist.map((cat) => {\r\n                return (\r\n                  <div style={{fontFamily:'Helvetica',\r\n                  justifyContent:'right',\r\n                  alignItems:'center',\r\n                  padding: 10, display:'flex', flexDirection: \"row\"}}>\r\n                  <Input\r\n                  id=\"editfield\"\r\n                  title={cat._id}\r\n                  type=\"radio\"\r\n                  checked={cat._id === this.state.categoriaidedit}\r\n                  onChange={this.handleChange}\r\n                  value={cat.nome}/>\r\n                  <label>{cat.nome}\r\n                  {console.log(this.state.categoriaedit)}</label>\r\n                  </div>\r\n                );\r\n              })}\r\n            <br />\r\n          </div>\r\n\r\n              \r\n              <Button value=\"Submit\" onClick={this.updateproduto}>\r\n                Alterar\r\n              </Button>\r\n            </div>\r\n            <button onClick={this.closeModal}>Fechar</button>\r\n          </Modal>\r\n        </div>\r\n      </DashboardLoja>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LjDashboard;\r\n\r\n/**\r\n *  <hr />\r\n          <Title>Cadastro do usuario da loja: {this.state.nomefantasia}</Title>\r\n          <Input\r\n            value={this.state.nomeuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome do usuario\"\r\n            name=\"nomeuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.emailuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email do usuario\"\r\n            name=\"emailuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.passuser}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Senha do usuario\"\r\n            name=\"passuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.userrole}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"role\"\r\n            name=\"userrole\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n\r\n          <Input\r\n            value={this.state.lojaslug}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"lojaslug\"\r\n            name=\"lojaslug\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n */\r\n","C:\\Users\\herberth\\OneDrive\\Documents\\ShopyCash\\ShopyCashShoppingDashboard\\shopycash-shopping-dashboard\\src\\dashboard\\loja\\cadastros.js",["204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219"],"import React from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport {\r\n  Section,\r\n  Input,\r\n  Button,\r\n  Title,\r\n  Label,\r\n  EditBt,\r\n  DeleteBt,\r\n  InputFile,\r\n  Img,\r\n  Tr,\r\n  Td,\r\n  Tdr,\r\n  TextArea\r\n} from \"./style\";\r\nimport history from \"../../history\";\r\nimport { DashboardLoja } from \"../../components/Layout\";\r\nimport Icon from \"awesome-react-icons\";\r\nimport noimage from \"../../imgsrc/logopad.jpg\";\r\nimport moment from 'moment';\r\n\r\nclass LjDashboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoaded: false,\r\n      token: localStorage.getItem(\"@token\"),\r\n      message: \"\",\r\n      messageloja: \"\",\r\n      ischecked: false,\r\n\r\n      _id: \"\",\r\n      lojaid: localStorage.getItem(\"@lojaid\"),\r\n      nome: \"\",\r\n      desc: \"\",\r\n      preco: 0,\r\n      loja: localStorage.getItem(\"@loja\"),\r\n      shopping: localStorage.getItem(\"@shopping\"),\r\n      shoppingid: localStorage.getItem(\"@shoppingid\"),\r\n      categoria: \"\",\r\n      categoriaid:\"\",\r\n      ativo: true,\r\n      estoque: 0,\r\n      imagembase64: null,\r\n      imagem2base64: null,\r\n\r\n      categoriaslist: [],\r\n      nomeedit: \"\",\r\n      descedit: \"\",\r\n      precoedit: 0,\r\n      categoriaedit: \"\",\r\n      categoriaidedit:\"\",\r\n      ativoedit:true,\r\n      estoqueedit:0,\r\n      imgbs64edt: null,\r\n      imgbs642edt:null,\r\n\r\n      lojadata: [],\r\n      prodarray: [],\r\n      isModalOpen: false,\r\n      isModalDelOpen: false,\r\n      customStyles: {\r\n        content: {\r\n          top: \"50%\",\r\n          left: \"50%\",\r\n          right: \"auto\",\r\n          bottom: \"auto\",\r\n          marginRight: \"-50%\",\r\n          transform: \"translate(-50%, -50%)\",\r\n        }}\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.openModal = this.openModal.bind(this);\r\n    this.closeModal = this.closeModal.bind(this);\r\n    this.closeDelModal = this.closeDelModal.bind(this);\r\n    this.onImageChange = this.onImageChange.bind(this);\r\n    this.onImage2Change = this.onImage2Change.bind(this);\r\n    this.onImageEdit = this.onImageEdit.bind(this);\r\n    this.onImage2Edit = this.onImage2Edit.bind(this);\r\n    this.handleChecked = this.handleChecked.bind(this);\r\n\r\n    // this.fileInput = React.createRef();\r\n    //this.handleUploadImage = this.handleUploadImage.bind(this);\r\n  }\r\n\r\n  componentDidMount () {\r\n    this.listcategorias();\r\n    fetch(\r\n      \"https://api-shopycash1.herokuapp.com/indexproductby/\"\r\n      +localStorage.getItem(\"@lojaid\")\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ prodarray: result }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n      \r\n      fetch(\"https://api-shopycash1.herokuapp.com/indexstoreby/\"\r\n      +localStorage.getItem(\"@lojaid\"),{                                                                          \r\n      })\r\n        .then((res) => res.json())\r\n        .then(function(result){\r\n          localStorage.setItem(\"@loja\", result.nomefantasia)\r\n          localStorage.setItem(\"@shopping\", result.shopping)\r\n        })\r\n        .catch((error) => console.log(error))\r\n        .finally(() => this.setState({ isLoaded: false }), []);\r\n  }\r\n  openModal = async (\r\n    id,\r\n    nome,\r\n    desc,\r\n    preco,\r\n    estoque,\r\n    imagem,\r\n    imagem2,\r\n    categoria,\r\n    categoriaid\r\n  ) => {\r\n    this.setState({\r\n      isModalOpen: true,\r\n      _id:id,\r\n      nomeedit: nome,\r\n      descedit: desc,\r\n      precoedit: preco,\r\n      estoqueedit: estoque,\r\n      imgbs64edt: imagem,\r\n      imgbs642edt: imagem2,\r\n      categoriaedit: categoria,\r\n      categoriaidedit: categoriaid,\r\n\r\n    });\r\n  };\r\n  openModalDelete = async (item) => {\r\n    this.setState({\r\n      isModalDelOpen: true,\r\n    });\r\n    const id = item;\r\n    this.setState({ _id: id }, () => console.log(this.state._id));\r\n  };\r\n  afterOpenModal() {\r\n    // references are now sync'd and can be accessed.\r\n    //subtitle.style.color = '#f00';\r\n  }\r\n  closeModal() {\r\n    this.setState({ isModalOpen: false });\r\n  }\r\n  closeDelModal() {\r\n    this.setState({ isModalDelOpen: false });\r\n  }\r\n  deleteprod = async (item) => {\r\n    const _id = item;\r\n    const lojaid = this.state.lojaid\r\n    console.log(_id, \"new id\");\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/product/delete/\" + lojaid+\"/\"+_id, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n    })\r\n      .then((res) =>\r\n        res.json(localStorage.setItem(\"@delmessage\", JSON.stringify(res)))\r\n      )\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }));\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  cadastrarproduto = async () => {\r\n    const payload = JSON.stringify({\r\n      loja_id: this.state.lojaid,\r\n      nome: this.state.nome,\r\n      desc: this.state.desc,\r\n      preco: this.state.preco,\r\n      loja: this.state.loja,\r\n      shopping: this.state.shopping,\r\n      shoppingid: this.state.shoppingid,\r\n      categoria: this.state.categoria,\r\n      categoriaid:this.state.categoriaid,\r\n      ativo: this.state.ativo,\r\n      imagem: this.state.imagembase64,\r\n      imagem2: this.state.imagem2base64,\r\n      estoque: this.state.estoque,\r\n    });\r\n\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/stores/insertprod/\" +\r\n      localStorage.getItem(\"@lojaid\"),\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: payload,\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@prodcad\", res))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@error\", error);\r\n        console.log(error);\r\n      });\r\n    //this.cadastrausuario();\r\n\r\n    window.location.reload();\r\n  \r\n  };\r\n\r\n  updateproduto = async () => {\r\n    const payload = JSON.stringify({\r\n        loja_id: this.state.lojaid,\r\n        nome: this.state.nomeedit,\r\n        desc: this.state.descedit,\r\n        preco: this.state.precoedit,\r\n        categoria: this.state.categoriaedit,\r\n        categoriaid:this.state.categoriaidedit,\r\n        ativo: this.state.ativoedit,\r\n        imagem: this.state.imgbs64edt,\r\n        imagem2: this.state.imgbs642edt,\r\n        estoque: this.state.estoqueedit\r\n    })\r\n    const lojaid = this.state.lojaid;\r\n    const prodid = this.state._id;\r\n    await fetch(\r\n      \"https://api-shopycash1.herokuapp.com/product/update/\"+lojaid+\"/\"+prodid ,\r\n      {\r\n        method: \"POST\",\r\n        headers: {\r\n          Accept: \"application/json\",\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n        },\r\n        body: payload\r\n      }\r\n    )\r\n      .then((res) => res.json(console.log(JSON.stringify(res))))\r\n      .then((res) => localStorage.setItem(\"@message\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  logout() {\r\n    try {\r\n      localStorage.removeItem(\"@token\");\r\n      localStorage.clear();\r\n      history.push(\"/\");\r\n    } catch (error) { }\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const target = event.target;\r\n    const type = target.type;\r\n    const value = target.value;\r\n    const title= target.title;\r\n    const id = target.id;\r\n    const name = target.name;\r\n\r\n    if (type === \"file\") {\r\n      this.setState({ [name]: event.target.files });\r\n    }else if(type === \"radio\" && id === \"normalfield\"){\r\n      this.setState({categoriaid: title, categoria:value});\r\n    }else if (type === \"radio\" && id === \"editfield\" ) {\r\n      this.setState({categoriaidedit: title, categoriaedit:value});\r\n    }\r\n    else {\r\n      this.setState({\r\n        [name]: value,\r\n      });\r\n    }\r\n\r\n      console.log(event)\r\n      console.log(this.state.categoria);\r\n      console.log(this.state.categoriaid);\r\n  };\r\n\r\n  onImageChange(event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = \"\";\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl);\r\n        this.setState({ imagembase64: baseurl });\r\n        //this._handleReaderLogo.bind(this)};\r\n      };\r\n    }\r\n  }\r\n\r\n  onImage2Change(event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = \"\";\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n\r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl);\r\n        this.setState({ imagem2base64: baseurl });\r\n      };\r\n    }\r\n  }\r\n\r\n  onImageEdit (event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({imgbs64edt:baseurl})\r\n      }\r\n    }    \r\n  };\r\n\r\n  onImage2Edit (event) {\r\n    event.preventDefault();\r\n    let file = event.target.files[0];\r\n    let baseurl = '';\r\n\r\n    if(file){\r\n      const reader = new FileReader();\r\n     \r\n      reader.readAsDataURL(file);\r\n      reader.onload = () => {\r\n        baseurl = reader.result;\r\n        console.log(baseurl)\r\n        this.setState({imgbs642edt:baseurl})\r\n      }\r\n    }  \r\n  };\r\n\r\n\r\n\r\n  listcategorias= async ()=> {\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/indexcategory/\"+localStorage.getItem(\"@lojaid\"))\r\n      .then((res) => res.json())\r\n      .then((result) => this.setState({ categoriaslist: result.data }))\r\n      .catch((error) => console.log(error))\r\n      .finally(() => this.setState({ isLoaded: false }), []);\r\n      console.log(this.state.categoriaslist)\r\n  }\r\n\r\n  handleChecked(event) {\r\n    console.log(event);\r\n    let newcheck = \"\";\r\n    if (this.state.categoria.length <= 0 && event.target.checked) {\r\n      newcheck = event.target.value;\r\n      this.setState({ categoria: [newcheck] });\r\n    } else if (this.state.categoria.length > 0 && event.target.checked) {\r\n      newcheck = event.target.value;\r\n      this.setState({ categoria: [...this.state.categoria, newcheck] });\r\n    }\r\n    let array = [...this.state.categoria]\r\n    let index = array.indexOf(event.target.value)\r\n    if(event.target.checked === false){\r\n      array.splice(index,1)\r\n      this.setState({categoria:array})\r\n    }\r\n  }\r\n\r\n  /*-----------------------usuario loja-------------------*/\r\n  cadastrausuario = async () => {\r\n    const payload = JSON.stringify({\r\n      nome: this.state.nomeuser,\r\n      email: this.state.emailuser,\r\n      pass: this.state.passuser,\r\n      userRole: this.state.userrole,\r\n      shoppingslug: this.state.shoppingslug,\r\n      lojaslug: this.state.lojaslug,\r\n      shoppingid: this.state.shoppingid,\r\n      lojaid: this.state.lojaid,\r\n    });\r\n\r\n    console.log(payload);\r\n\r\n    await fetch(\"https://api-shopycash1.herokuapp.com/api/loja/cadastro\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"@token\"),\r\n      },\r\n      body: payload,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => localStorage.setItem(\"@messageuser\", JSON.stringify(res)))\r\n      .catch((error) => {\r\n        localStorage.setItem(\"@message\", error);\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  };\r\n\r\n  /**\r\n * {this.state.ljdata.map((item, index)=>{\r\n          return(\r\n          <Title key={item._id}>\r\n            Cadastro de Produtos - {item.nomefantasia}\r\n          </Title>\r\n          )\r\n        })}\r\n */\r\n\r\n\r\n  render() {\r\n    const { prodarray } = this.state;\r\n    return (\r\n      <DashboardLoja>\r\n        <Section>\r\n          <Title>\r\n            <a href={\"/store/\"+localStorage.getItem(\"@slug\")+\"/produtos\"}>Cadastro de Produtos</a>\r\n          </Title>\r\n          <Title>\r\n          <a href={\"/store/\"+localStorage.getItem(\"@slug\")+\"/categoria\"}>Cadastro de Categorias</a>\r\n           </Title>\r\n          \r\n          </Section>\r\n      </DashboardLoja>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LjDashboard;\r\n\r\n/**\r\n *  <hr />\r\n          <Title>Cadastro do usuario da loja: {this.state.nomefantasia}</Title>\r\n          <Input\r\n            value={this.state.nomeuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Nome do usuario\"\r\n            name=\"nomeuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.emailuser}\r\n            style={{ width: \"99%\" }}\r\n            type=\"email\"\r\n            placeholder=\"Email do usuario\"\r\n            name=\"emailuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <Input\r\n            value={this.state.passuser}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"Senha do usuario\"\r\n            name=\"passuser\"\r\n            required=\"true\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Input\r\n            value={this.state.userrole}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"role\"\r\n            name=\"userrole\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n\r\n          <Input\r\n            value={this.state.lojaslug}\r\n            style={{ width: \"24%\" }}\r\n            type=\"text\"\r\n            placeholder=\"lojaslug\"\r\n            name=\"lojaslug\"\r\n            required=\"true\"\r\n            disabled\r\n          />\r\n */\r\n",{"ruleId":"220","replacedBy":"221"},{"ruleId":"222","replacedBy":"223"},{"ruleId":"220","replacedBy":"224"},{"ruleId":"222","replacedBy":"225"},{"ruleId":"226","severity":1,"message":"227","line":3,"column":8,"nodeType":"228","messageId":"229","endLine":3,"endColumn":16},{"ruleId":"226","severity":1,"message":"230","line":5,"column":8,"nodeType":"228","messageId":"229","endLine":5,"endColumn":14},{"ruleId":"226","severity":1,"message":"231","line":13,"column":8,"nodeType":"228","messageId":"229","endLine":13,"endColumn":15},{"ruleId":"220","replacedBy":"232"},{"ruleId":"222","replacedBy":"233"},{"ruleId":"226","severity":1,"message":"231","line":13,"column":8,"nodeType":"228","messageId":"229","endLine":13,"endColumn":15},{"ruleId":"220","replacedBy":"234"},{"ruleId":"222","replacedBy":"235"},{"ruleId":"220","replacedBy":"236"},{"ruleId":"222","replacedBy":"237"},{"ruleId":"220","replacedBy":"238"},{"ruleId":"222","replacedBy":"239"},{"ruleId":"220","replacedBy":"240"},{"ruleId":"222","replacedBy":"241"},{"ruleId":"242","severity":1,"message":"243","line":7,"column":3,"nodeType":"244","messageId":"245","endLine":9,"endColumn":4},{"ruleId":"226","severity":1,"message":"246","line":2,"column":8,"nodeType":"228","messageId":"229","endLine":2,"endColumn":13},{"ruleId":"226","severity":1,"message":"247","line":6,"column":3,"nodeType":"228","messageId":"229","endLine":6,"endColumn":8},{"ruleId":"226","severity":1,"message":"248","line":7,"column":3,"nodeType":"228","messageId":"229","endLine":7,"endColumn":9},{"ruleId":"226","severity":1,"message":"249","line":10,"column":3,"nodeType":"228","messageId":"229","endLine":10,"endColumn":9},{"ruleId":"226","severity":1,"message":"250","line":11,"column":3,"nodeType":"228","messageId":"229","endLine":11,"endColumn":11},{"ruleId":"226","severity":1,"message":"251","line":12,"column":3,"nodeType":"228","messageId":"229","endLine":12,"endColumn":12},{"ruleId":"226","severity":1,"message":"252","line":13,"column":3,"nodeType":"228","messageId":"229","endLine":13,"endColumn":6},{"ruleId":"226","severity":1,"message":"253","line":14,"column":3,"nodeType":"228","messageId":"229","endLine":14,"endColumn":5},{"ruleId":"226","severity":1,"message":"254","line":15,"column":3,"nodeType":"228","messageId":"229","endLine":15,"endColumn":5},{"ruleId":"226","severity":1,"message":"255","line":16,"column":3,"nodeType":"228","messageId":"229","endLine":16,"endColumn":6},{"ruleId":"226","severity":1,"message":"256","line":17,"column":3,"nodeType":"228","messageId":"229","endLine":17,"endColumn":11},{"ruleId":"226","severity":1,"message":"257","line":23,"column":10,"nodeType":"228","messageId":"229","endLine":23,"endColumn":20},{"ruleId":"226","severity":1,"message":"258","line":26,"column":8,"nodeType":"228","messageId":"229","endLine":26,"endColumn":14},{"ruleId":"226","severity":1,"message":"259","line":27,"column":8,"nodeType":"228","messageId":"229","endLine":27,"endColumn":15},{"ruleId":"226","severity":1,"message":"260","line":28,"column":8,"nodeType":"228","messageId":"229","endLine":28,"endColumn":18},{"ruleId":"226","severity":1,"message":"261","line":29,"column":8,"nodeType":"228","messageId":"229","endLine":29,"endColumn":18},{"ruleId":"226","severity":1,"message":"262","line":30,"column":10,"nodeType":"228","messageId":"229","endLine":30,"endColumn":16},{"ruleId":"226","severity":1,"message":"263","line":33,"column":8,"nodeType":"228","messageId":"229","endLine":33,"endColumn":12},{"ruleId":"226","severity":1,"message":"264","line":34,"column":8,"nodeType":"228","messageId":"229","endLine":34,"endColumn":15},{"ruleId":"265","severity":1,"message":"266","line":114,"column":7,"nodeType":"267","messageId":"268","endLine":114,"endColumn":15},{"ruleId":"269","severity":1,"message":"270","line":189,"column":15,"nodeType":"228","messageId":"271","endLine":189,"endColumn":16},{"ruleId":"269","severity":1,"message":"270","line":209,"column":17,"nodeType":"228","messageId":"271","endLine":209,"endColumn":18},{"ruleId":"269","severity":1,"message":"272","line":211,"column":19,"nodeType":"228","messageId":"271","endLine":211,"endColumn":20},{"ruleId":"269","severity":1,"message":"273","line":216,"column":23,"nodeType":"228","messageId":"271","endLine":216,"endColumn":24},{"ruleId":"265","severity":1,"message":"274","line":345,"column":19,"nodeType":"267","messageId":"268","endLine":345,"endColumn":30},{"ruleId":"269","severity":1,"message":"270","line":369,"column":19,"nodeType":"228","messageId":"271","endLine":369,"endColumn":20},{"ruleId":"226","severity":1,"message":"275","line":732,"column":13,"nodeType":"228","messageId":"229","endLine":732,"endColumn":22},{"ruleId":"226","severity":1,"message":"263","line":5,"column":8,"nodeType":"228","messageId":"229","endLine":5,"endColumn":12},{"ruleId":"226","severity":1,"message":"260","line":12,"column":8,"nodeType":"228","messageId":"229","endLine":12,"endColumn":18},{"ruleId":"226","severity":1,"message":"246","line":2,"column":8,"nodeType":"228","messageId":"229","endLine":2,"endColumn":13},{"ruleId":"226","severity":1,"message":"276","line":4,"column":3,"nodeType":"228","messageId":"229","endLine":4,"endColumn":10},{"ruleId":"226","severity":1,"message":"277","line":5,"column":3,"nodeType":"228","messageId":"229","endLine":5,"endColumn":12},{"ruleId":"226","severity":1,"message":"247","line":6,"column":3,"nodeType":"228","messageId":"229","endLine":6,"endColumn":8},{"ruleId":"226","severity":1,"message":"278","line":7,"column":3,"nodeType":"228","messageId":"229","endLine":7,"endColumn":8},{"ruleId":"226","severity":1,"message":"249","line":9,"column":3,"nodeType":"228","messageId":"229","endLine":9,"endColumn":9},{"ruleId":"226","severity":1,"message":"250","line":10,"column":3,"nodeType":"228","messageId":"229","endLine":10,"endColumn":11},{"ruleId":"226","severity":1,"message":"279","line":20,"column":3,"nodeType":"228","messageId":"229","endLine":20,"endColumn":13},{"ruleId":"226","severity":1,"message":"280","line":21,"column":3,"nodeType":"228","messageId":"229","endLine":21,"endColumn":10},{"ruleId":"226","severity":1,"message":"281","line":22,"column":3,"nodeType":"228","messageId":"229","endLine":22,"endColumn":16},{"ruleId":"226","severity":1,"message":"282","line":23,"column":3,"nodeType":"228","messageId":"229","endLine":23,"endColumn":22},{"ruleId":"226","severity":1,"message":"283","line":33,"column":10,"nodeType":"228","messageId":"229","endLine":33,"endColumn":24},{"ruleId":"226","severity":1,"message":"284","line":33,"column":26,"nodeType":"228","messageId":"229","endLine":33,"endColumn":32},{"ruleId":"226","severity":1,"message":"285","line":33,"column":34,"nodeType":"228","messageId":"229","endLine":33,"endColumn":41},{"ruleId":"226","severity":1,"message":"257","line":34,"column":10,"nodeType":"228","messageId":"229","endLine":34,"endColumn":20},{"ruleId":"226","severity":1,"message":"286","line":35,"column":8,"nodeType":"228","messageId":"229","endLine":35,"endColumn":13},{"ruleId":"226","severity":1,"message":"287","line":117,"column":13,"nodeType":"228","messageId":"229","endLine":117,"endColumn":19},{"ruleId":"288","severity":1,"message":"289","line":135,"column":65,"nodeType":"290","messageId":"268","endLine":135,"endColumn":67},{"ruleId":"288","severity":1,"message":"289","line":135,"column":133,"nodeType":"290","messageId":"268","endLine":135,"endColumn":135},{"ruleId":"288","severity":1,"message":"289","line":135,"column":204,"nodeType":"290","messageId":"268","endLine":135,"endColumn":206},{"ruleId":"269","severity":1,"message":"270","line":156,"column":15,"nodeType":"228","messageId":"271","endLine":156,"endColumn":16},{"ruleId":"226","severity":1,"message":"291","line":16,"column":3,"nodeType":"228","messageId":"229","endLine":16,"endColumn":11},{"ruleId":"226","severity":1,"message":"279","line":17,"column":3,"nodeType":"228","messageId":"229","endLine":17,"endColumn":13},{"ruleId":"226","severity":1,"message":"280","line":18,"column":3,"nodeType":"228","messageId":"229","endLine":18,"endColumn":10},{"ruleId":"226","severity":1,"message":"281","line":19,"column":3,"nodeType":"228","messageId":"229","endLine":19,"endColumn":16},{"ruleId":"226","severity":1,"message":"282","line":20,"column":3,"nodeType":"228","messageId":"229","endLine":20,"endColumn":22},{"ruleId":"226","severity":1,"message":"252","line":12,"column":3,"nodeType":"228","messageId":"229","endLine":12,"endColumn":6},{"ruleId":"226","severity":1,"message":"256","line":16,"column":3,"nodeType":"228","messageId":"229","endLine":16,"endColumn":11},{"ruleId":"226","severity":1,"message":"292","line":22,"column":8,"nodeType":"228","messageId":"229","endLine":22,"endColumn":14},{"ruleId":"226","severity":1,"message":"246","line":2,"column":8,"nodeType":"228","messageId":"229","endLine":2,"endColumn":13},{"ruleId":"226","severity":1,"message":"247","line":5,"column":3,"nodeType":"228","messageId":"229","endLine":5,"endColumn":8},{"ruleId":"226","severity":1,"message":"248","line":6,"column":3,"nodeType":"228","messageId":"229","endLine":6,"endColumn":9},{"ruleId":"226","severity":1,"message":"293","line":8,"column":3,"nodeType":"228","messageId":"229","endLine":8,"endColumn":8},{"ruleId":"226","severity":1,"message":"249","line":9,"column":3,"nodeType":"228","messageId":"229","endLine":9,"endColumn":9},{"ruleId":"226","severity":1,"message":"250","line":10,"column":3,"nodeType":"228","messageId":"229","endLine":10,"endColumn":11},{"ruleId":"226","severity":1,"message":"251","line":11,"column":3,"nodeType":"228","messageId":"229","endLine":11,"endColumn":12},{"ruleId":"226","severity":1,"message":"252","line":12,"column":3,"nodeType":"228","messageId":"229","endLine":12,"endColumn":6},{"ruleId":"226","severity":1,"message":"253","line":13,"column":3,"nodeType":"228","messageId":"229","endLine":13,"endColumn":5},{"ruleId":"226","severity":1,"message":"254","line":14,"column":3,"nodeType":"228","messageId":"229","endLine":14,"endColumn":5},{"ruleId":"226","severity":1,"message":"255","line":15,"column":3,"nodeType":"228","messageId":"229","endLine":15,"endColumn":6},{"ruleId":"226","severity":1,"message":"256","line":16,"column":3,"nodeType":"228","messageId":"229","endLine":16,"endColumn":11},{"ruleId":"226","severity":1,"message":"263","line":20,"column":8,"nodeType":"228","messageId":"229","endLine":20,"endColumn":12},{"ruleId":"226","severity":1,"message":"264","line":21,"column":8,"nodeType":"228","messageId":"229","endLine":21,"endColumn":15},{"ruleId":"226","severity":1,"message":"292","line":22,"column":8,"nodeType":"228","messageId":"229","endLine":22,"endColumn":14},{"ruleId":"226","severity":1,"message":"275","line":433,"column":13,"nodeType":"228","messageId":"229","endLine":433,"endColumn":22},"no-native-reassign",["294"],"no-negated-in-lhs",["295"],["294"],["295"],"no-unused-vars","'firebase' is defined but never used.","Identifier","unusedVar","'base64' is defined but never used.","'history' is defined but never used.",["294"],["295"],["294"],["295"],["294"],["295"],["294"],["295"],["294"],["295"],"no-useless-constructor","Useless constructor.","MethodDefinition","noUselessConstructor","'Modal' is defined but never used.","'Input' is defined but never used.","'Button' is defined but never used.","'EditBt' is defined but never used.","'DeleteBt' is defined but never used.","'InputFile' is defined but never used.","'Img' is defined but never used.","'Tr' is defined but never used.","'Td' is defined but never used.","'Tdr' is defined but never used.","'TextArea' is defined but never used.","'makeStyles' is defined but never used.","'AppBar' is defined but never used.","'Toolbar' is defined but never used.","'Typography' is defined but never used.","'IconButton' is defined but never used.","'BiMenu' is defined but never used.","'Icon' is defined but never used.","'noimage' is defined but never used.","no-dupe-keys","Duplicate key 'nomeedit'.","ObjectExpression","unexpected","no-redeclare","'i' is already defined.","redeclared","'x' is already defined.","'y' is already defined.","Duplicate key 'borderColor'.","'prodarray' is assigned a value but never used.","'Section' is defined but never used.","'Container' is defined but never used.","'Title' is defined but never used.","'GridColDef' is defined but never used.","'GridApi' is defined but never used.","'GridCellValue' is defined but never used.","'getThemePaletteMode' is defined but never used.","'createMuiTheme' is defined but never used.","'darken' is defined but never used.","'lighten' is defined but never used.","'Chart' is defined but never used.","'suprow' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","'DataGrid' is defined but never used.","'moment' is defined but never used.","'Label' is defined but never used.","no-global-assign","no-unsafe-negation"]